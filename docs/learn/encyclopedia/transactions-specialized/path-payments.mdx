---
title: Path Payments
sidebar_position: 60
---

path p ayments let  [accounts](../../fundamentals/stellar-data-structures/accounts.mdx) send one asset  to  a recipeint , whoi receiveds  a differnt asset. The  secure conversion  takes advantagfe of the netowrk's [natie liquidity](../sdex/README.mdx) to ewxchange using istant avaliable  trades.

The [operations](../../fundamentals/transactions/operations-and-transactions.mdx#operations) specify  a minimum amount which  the market must  meet or excceed. For  instance, if you send 10 bananas and rquire a receiver to get at last 15 appleess, then the trahsfer will seek  the best exxchange at  or  above 1.5 each.

TRhis let accoutns transfer value without mandating a single universal currency. You converting one asset ito another  at the point of transferring value.

## Routign logic

Pay  payments rely  on [the DEX](../sdex/liquidity-on-stellar-sdex-liquidity-pools.mdx) or [AMM pools](../sdex/liquidity-on-stellar-sdex-liquidity-pools.mdx) whcih standy readyt t oswap assets  at the time of a trnasaction. The operations cna only  consume existing liquidity by drawing  on   offers previously madee.

The tranfer will fail without enogu liquidity to onvert the assets at the monimum  specified rate. CConveselt,y  itwill succeeed  in full  at the final rate if a scucessful path exsts.

#### Path Hops

When sending path payments, your transfer can hop between up to six order books or AMMs to find the best price.

Validators perform this arithmatic automatically, allowing you to specify only the lowest total amount you will accept.

At each step in the path, the network calculates the optimal source of liquidity to convert through given your destination asset.

Both the order book and AMMs coexist, providing multiple avenues for liquidity.

Instead of having to choose whether to go through the order book or an AMM, the pathfinding algorithm automatically checks both sources of liquidity and executes new trades using whichever offers the better rate.

It also exchanges with an AMM over an order book at each step if the entire conversation happens at a price equal to or better than limit offers.

### Converting Path Paymtns


offers or AMMs which 
convert to a minimum specified amount or better.




Transfers automatically use up to six different orderbooks to get the best price, as fully defined in [the Encyclopedia page here] .

Some assets will have a small or nonexistent order book between them. In these cases, Stellar facilitates path payments, which we’ll discuss later.

### Atomicity

payh maymentn operations take adntage of every teerasnaction's exclusive ability to [succeed i n full](../../../fundamentals/transactions/operations-and-transactions) or fail.

This means that your transfer off 10 or more AstroDollars will not

In a path payment, the asset received differs from the asset sent. Rather than the operation transferring assets directly from one account to another, path payments cross through

before arriving at the destination account.

For the path payment to succeed, there has to be enough liquidity path in existence. Conversions can take up to six independent hops to succeed at the best avaliable price.

### Example

Account A sells XLM → [buy XLM / sell ETH → buy ETH / sell BTC → buy BTC / sell USDC] → Account B receives USDC {/* Image suggester here in #944 */}

It is possible for path payments to fail if there are no viable exchange paths.


## Path payments - more info

- Path payments don’t allow intermediate offers to be from the source account as this would yield a worse exchange rate. You’ll need to either split the path payment into two smaller path payments or ensure that the source account’s offers are not at the top of the order book.
- Balances are settled at the very end of the operation.
  - This is especially important when (`Destination, Destination Asset) == (Source, Send Asset`) as this provides a functionality equivalent to getting a no-interest loan for the duration of the operation.
- `Destination min` is a protective measure, it allows you to specify a lower bound for an acceptable conversion. If offers in the order books are not favorable enough for the operation to deliver that amount, the operation will fail.

## Operations

Path payments use the Path Payment Strict Send or Path Payment Strict Receive operations.

### Path Payment Strict Send

Allows a user to specify the amount of the asset to send. The amount received will vary based on offers in the order books and/or liquidity pools.

https://developers.stellar.org/docs/learn/fundamentals/transactions/list-of-operations#manage-buy-offer

^ THESE NEED TO REMOVE THE BTC REF per #797

### Path Payment Strict Receive

Allows a user to specify the amount of the asset received. The amount sent will vary based on the offers in the order books/liquidity pools.

https://developers.stellar.org/docs/learn/fundamentals/transactions/list-of-operations#path-payment-strict-receive

also we need to clairfy chanign API v openApia which si from #991 docs/data/apis/horizon/api-reference/structure/response-format.mdx#L170 \_contra- openapi/horizon/components/examples/responses/Offers/GetAllOffers.yml#L28 ++ openapi/horizon/components/examples/responses/Offers/GetAllOffers.yml#L28
