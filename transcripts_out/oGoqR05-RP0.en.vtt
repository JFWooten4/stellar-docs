WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:59.999 align:start position:0%
hello everyone and welcome to the open protocol meeting obviously it is the protocol meeting obviously it is the first time we're doing it in this first time we're doing it in this discord channel um but discord channel um but most the conversation around stellar most the conversation around stellar development has moved to discord and so development has moved to discord and so it makes sense to kind of put it all in it makes sense to kind of put it all in one place um most of the jump cannon one place um most of the jump cannon work in fact all of it is really being work in fact all of it is really being done in the open here on the jump cannon done in the open here on the jump cannon channel and on the jump cannon dev channel and on the jump cannon dev channel so anyone who's interested in channel so anyone who's interested in seeing us work to bring smart contracts seeing us work to bring smart contracts to stellar can you know join in that in to stellar can you know join in that in that discussion um so that discussion um so today the these meetings these protocol today the these meetings these protocol meetings are are here to discuss and meetings are are here to discuss and plan for actual changes to the stellar plan for actual changes to the stellar protocol and we are focused on project protocol and we are focused on project jump cannon at this point and on which jump cannon at this point and on which will bring smart contracts to stellar will bring smart contracts to stellar and we're talking here about the and we're talking here about the protocol changes that are necessary in protocol changes that are necessary in order to accommodate it order to accommodate it to tackle jump cannon we actually to tackle jump cannon we actually decided to break up the suggested decided to break up the suggested protocol changes into a suite of core protocol changes into a suite of core advancement proposals and at this point

00:01:00.000 --> 00:01:59.999 align:start position:0%
advancement proposals and at this point they're actually four different caps they're actually four different caps that are linked to three of which are that are linked to three of which are linked to in the media invite one that linked to in the media invite one that just came in under the wire but it's cap just came in under the wire but it's cap 49 so those caps are cap 46 the 49 so those caps are cap 46 the webassembly smart contract runtime webassembly smart contract runtime environment which is what we discussed environment which is what we discussed last meeting um and it's basically a last meeting um and it's basically a building block that establishes a building block that establishes a vocabulary that we can use to talk about vocabulary that we can use to talk about wasm-based smart contract environments wasm-based smart contract environments um um 47 the smart contract life cycle defines 47 the smart contract life cycle defines the structure of smart contracts on the structure of smart contracts on stellar and specifies how users can stellar and specifies how users can create update and remove them create update and remove them then cap 48 and cap 49 then cap 48 and cap 49 i think our two approaches to deal with i think our two approaches to deal with smart contract asset interoperability um smart contract asset interoperability um and so this meeting is being and so this meeting is being is like anyone can sort of watch it is like anyone can sort of watch it now now um i believe david has a sdf role um so uh but we are also archiving this and and but we are also archiving this and and posting it on youtube so that people who posting it on youtube so that people who can't be in the discord channel who want can't be in the discord channel who want to watch the protocol meeting can watch

00:02:00.000 --> 00:02:59.999 align:start position:0%
to watch the protocol meeting can watch it later it later so with that said you know we're talking so with that said you know we're talking about smart contracts i believe that the about smart contracts i believe that the first place the first set of issues that first place the first set of issues that is probably worth talking about relate is probably worth talking about relate to to your caps john cap 48 and cat 49 your caps john cap 48 and cat 49 deal with deal with interoperability so i feel like there are some questions that are that are open that we might that are that are open that we might want to want to it's probably useful to talk about now it's probably useful to talk about now but john do you want to sort of give an but john do you want to sort of give an overview of where we are with those two overview of where we are with those two caps and then we can take it from there sorry first time first i'm doing like a video call on first i'm doing like a video call on discard i'm still getting a little discard i'm still getting a little oriented oriented um um let me uh pull up the relevant documents let me uh pull up the relevant documents give me one moment and then i will give a little intro okay i'm ready sorry about that um

00:03:00.000 --> 00:03:59.999 align:start position:0%
okay i'm ready sorry about that um so basically so basically uh these two proposals uh these two proposals um um they they relate to just one very simple question relate to just one very simple question or simple sounding question which is or simple sounding question which is yes exactly but some error cuts on that yes exactly but some error cuts on that which is we have some classic assets which is we have some classic assets some of which have like you know some of which have like you know substantial value sitting beneath them substantial value sitting beneath them uh and we'd like to be able to use those uh and we'd like to be able to use those immediately as soon as you know we immediately as soon as you know we deploy deploy jump can and smart contracts jump can and smart contracts uh on the public network without uh on the public network without and and the uh the kind of the uh the kind of framework here is like well ideally we framework here is like well ideally we can use them can use them without anybody doing anything they just without anybody doing anything they just kind of work like magic kind of work like magic uh so there's a couple uh so there's a couple of things that go into that one thing of things that go into that one thing we'd like is for them to be pretty fast we'd like is for them to be pretty fast um tokens are kind of like the framework um tokens are kind of like the framework on which blockchain lives on which blockchain lives so so that to be really efficient in order to that to be really efficient in order to make the whole thing efficient make the whole thing efficient um the second thing is like there's no um the second thing is like there's no reason to think that anchors

00:04:00.000 --> 00:04:59.999 align:start position:0%
reason to think that anchors are going to instantly deploy new are going to instantly deploy new software software to support interoperability between to support interoperability between their existing assets like classic their existing assets like classic assets and smart contracts assets and smart contracts and so ideally it just kind of we do it and so ideally it just kind of we do it for them in some sense they everybody for them in some sense they everybody just gets it for free basically just gets it for free basically um and there's one other requirement um and there's one other requirement which i'm now not remembering which i'm now not remembering um um oh yeah and the third one is a security oh yeah and the third one is a security kind of situation which is that like kind of situation which is that like when i sign for a stellar account at when i sign for a stellar account at medium threshold i have like complete medium threshold i have like complete control over all of that accounts control over all of that accounts balances balances um um meaning like meaning like i might be saying that i'd like to make i might be saying that i'd like to make a five dollar payment but if i have a a five dollar payment but if i have a million dollars in my account and i million dollars in my account and i signed for a smart contract to control signed for a smart contract to control my account at medium threshold it could my account at medium threshold it could just make it a million dollar payment just make it a million dollar payment um ideally we should make it so that um ideally we should make it so that that situation is completely impossible that situation is completely impossible you can't just sign for the account to you can't just sign for the account to make payments basically make payments basically um and so these two caps 48 and 49 are um and so these two caps 48 and 49 are two different perspectives on this

00:05:00.000 --> 00:05:59.999 align:start position:0%
two different perspectives on this problem problem cap 48 is kind of like cap 48 is kind of like what if i did the thing that was the what if i did the thing that was the most frictionless possible most frictionless possible but if you do that you inherit a bunch but if you do that you inherit a bunch of weird stuff left over from like the of weird stuff left over from like the fact that stellar assets are not really fact that stellar assets are not really quite exactly like your z20 assets or quite exactly like your z20 assets or whatever other ethereum standard you'd whatever other ethereum standard you'd like i'm really focused on erc20 just like i'm really focused on erc20 just because i'm familiar with it and it's because i'm familiar with it and it's classic and old classic and old but like there are other standards that but like there are other standards that could be relevant here could be relevant here um but i'm gonna keep saying here c20 um but i'm gonna keep saying here c20 and you should just interpret that to be and you should just interpret that to be whatever standard you like whatever standard you like uh uh cap 49 on the other hand is more like cap 49 on the other hand is more like what if we introduce a little bit of what if we introduce a little bit of friction but we make it so that these friction but we make it so that these things really really really look like things really really really look like erc20 assets erc20 assets uh and avoid any of these like weird uh and avoid any of these like weird questions like oh like what who did that questions like oh like what who did that do there's no more ambiguity do there's no more ambiguity so that's kind of my pitch for these two so that's kind of my pitch for these two proposals

00:06:00.000 --> 00:06:59.999 align:start position:0%
ultimately is it about choosing one path or the other or the other is this like a choice between 48 and 49 is this like a choice between 48 and 49 that that is something that we need to that that is something that we need to contemplate and make or are they they work together or or you know given john given that cap 49 49 you know given john given that cap 49 49 was just like dumped this morning on the was just like dumped this morning on the repo maybe you can give us like a high repo maybe you can give us like a high level overview and like what are the level overview and like what are the differences between cap 49 cap 48 differences between cap 49 cap 48 uh yes and to answer justin's question uh yes and to answer justin's question it is an either or but not like um not it is an either or but not like um not like an either or and no other options like an either or and no other options exist it's like a these are two good exist it's like a these are two good options and there could be other good options and there could be other good options i haven't thought of but i have options i haven't thought of but i have thought of a lot of options and these thought of a lot of options and these two definitely stand out as like two definitely stand out as like probably the best given our requirements probably the best given our requirements um so it's like either 48 or 49 or um so it's like either 48 or 49 or something that none of us have thought something that none of us have thought of yet of yet um um to go over what tomer was talking about to go over what tomer was talking about in terms of 49 because i did kind of

00:07:00.000 --> 00:07:59.999 align:start position:0%
in terms of 49 because i did kind of just drop it on you guys at like 11 just drop it on you guys at like 11 o'clock this 11 o'clock in my time this o'clock this 11 o'clock in my time this morning morning um um basically basically uh uh i went over the issues in cap 48 i went over the issues in cap 48 um which are listed in the design um which are listed in the design rationale there's there's four slash rationale there's there's four slash five of them depending on how you think five of them depending on how you think of it of it um and i went through and kind of um and i went through and kind of designed a system that solves them designed a system that solves them so what is the functionality of before i so what is the functionality of before i go over how the issues are different or go over how the issues are different or work out differently work out differently so in cap 48 basically the machinery is so in cap 48 basically the machinery is like like the like asset adapter or contract that the like asset adapter or contract that like everybody gets for free actually like everybody gets for free actually goes around and controls goes around and controls the stellar trust line the stellar trust line um so you know like when you use the um so you know like when you use the erc20 function transfer it actually goes erc20 function transfer it actually goes and uses the payment operation to send a and uses the payment operation to send a payment from this trust line to that payment from this trust line to that trust line or from this account to that trust line or from this account to that account if it's needed account if it's needed whereas in cap 49 that never happens

00:08:00.000 --> 00:08:59.999 align:start position:0%
whereas in cap 49 that never happens the um the only thing that the only time the um the only thing that the only time the contract will ever use your trust the contract will ever use your trust line line is when you call these two functions is when you call these two functions wrap and unwrap or like if you're used wrap and unwrap or like if you're used to we would call them as deposit to we would call them as deposit withdraw but this was confusing to niko withdraw but this was confusing to niko so i'm sticking with rap and unwrap and so i'm sticking with rap and unwrap and we can change choose whatever names we we can change choose whatever names we like later but i think nobody will be like later but i think nobody will be confused by the terms wrap and unwrap confused by the terms wrap and unwrap um and basically like what the wrap um and basically like what the wrap function does is it effectively function does is it effectively um it effectively takes some stuff from um it effectively takes some stuff from your trust line puts it in some new type your trust line puts it in some new type of ledger entry for the smart contract of ledger entry for the smart contract which i'm going to call a wrapable which i'm going to call a wrapable balance balance name stinks whatever we can change it name stinks whatever we can change it and then it basically mints the and then it basically mints the corresponding erc20 and then all the corresponding erc20 and then all the other erc20 transactions operate on this other erc20 transactions operate on this you know erc20 type balance that's just you know erc20 type balance that's just like a new thing completely like a new thing completely um um and the um the opposite thing unwrap and the um the opposite thing unwrap just does all of that in reverse and so just does all of that in reverse and so like the erc20 stuff is like completely like the erc20 stuff is like completely working on new ledger entries it doesn't

00:09:00.000 --> 00:09:59.999 align:start position:0%
working on new ledger entries it doesn't use any of the old machinery at all use any of the old machinery at all only the wrap and unwrap functions only the wrap and unwrap functions actually interop with the old machinery actually interop with the old machinery and then to make all this stuff work you and then to make all this stuff work you now have to add a few compliance now have to add a few compliance functions functions um um like you have to add auth and clawback like you have to add auth and clawback to the erc20 side of it to the erc20 side of it um but that's like super simple um but that's like super simple machinery that like i mean it's super machinery that like i mean it's super easy to build easy to build um i looked at how people have um i looked at how people have implemented it like i looked at i was implemented it like i looked at i was actually looking at the actually looking at the usdc contracts to see how they usdc contracts to see how they implemented implemented the auth and it's like exactly as simple the auth and it's like exactly as simple as i was thinking we would do so that as i was thinking we would do so that was kind of a perfect fit in that sense was kind of a perfect fit in that sense um in terms of how this solves the um in terms of how this solves the problems but actually before i continue problems but actually before i continue anybody want to stop me and ask some anybody want to stop me and ask some questions otherwise i'll just go over questions otherwise i'll just go over how to solve the issues that i see how to solve the issues that i see just uh for me to understand the just uh for me to understand the there's still this like canonical there's still this like canonical one-to-one mapping between an asset and one-to-one mapping between an asset and a wrapped asset a wrapped asset yeah yeah okay it's like a native implementation okay it's like a native implementation you do the same kind of thing where you

00:10:00.000 --> 00:10:59.999 align:start position:0%
you do the same kind of thing where you like say like hey like give me the like say like hey like give me the contract id for this asset contract id for this asset and this contract id is some kind of and this contract id is some kind of like native thing there's no wildling like native thing there's no wildling behind it it just runs it has some behind it it just runs it has some interface that we prescribe interface that we prescribe um um and there's exactly one of them for and there's exactly one of them for every asset that you could ever make every asset that you could ever make that's it that's it um and they can store data and i'm not um and they can store data and i'm not really talking about how the data is really talking about how the data is being stored in the being stored in the cap because we don't know cap because we don't know what the fee model is yet what the fee model is yet um so like there will be some fee model um so like there will be some fee model i don't know who's paying for it i don't know who's paying for it i don't particularly care at this time i don't particularly care at this time and whatever we decide later should just and whatever we decide later should just retrofit onto that's um retrofit onto that's um that's that basically that's that basically um um any other questions before i go on okay um so why do i like the 49 version um so why do i like the 49 version better than the 48 version better than the 48 version so i'm just going to go like over these so i'm just going to go like over these the issues i noticed the issues i noticed um so the first thing is like it's not

00:11:00.000 --> 00:11:59.999 align:start position:0%
um so the first thing is like it's not labeled as an issue in cat 48 but it is labeled as an issue in cat 48 but it is one which is like ideally you should be one which is like ideally you should be able to use a able to use a stellar erc20 like a wrap an erc20 stellar erc20 like a wrap an erc20 wrapping a stellar classic asset however wrapping a stellar classic asset however that interface works that interface works ideally you should be able to use it ideally you should be able to use it exactly the same way you would use an exactly the same way you would use an erc20 erc20 that's not even possible in cat 48 even that's not even possible in cat 48 even ignoring some of the other weird quirks ignoring some of the other weird quirks that like we have to agree on some that like we have to agree on some design that makes sense some design that makes sense some implementation that makes sense implementation that makes sense because just when you initialize a because just when you initialize a contract like let's say you have a contract like let's say you have a liquidity pool contract liquidity pool contract and you have like a factory for it that and you have like a factory for it that takes two assets which are going to be takes two assets which are going to be the two assets that you have reserves the two assets that you have reserves for for well you'd have to actually check like well you'd have to actually check like hey is one of these assets hey is one of these assets and like a stellar and like a stellar classic asset even if it has an erc20 classic asset even if it has an erc20 interface interface because you would still need to create because you would still need to create the trust lines for it the trust lines for it that's a bummer but at least it only that's a bummer but at least it only happens one time in initialization happens one time in initialization um um that doesn't happen cap 49 you don't

00:12:00.000 --> 00:12:59.999 align:start position:0%
that doesn't happen cap 49 you don't need to create the trust signs the the need to create the trust signs the the contractor does all the magic and we contractor does all the magic and we don't need to be backwards compatible don't need to be backwards compatible because it's all new machinery however because it's all new machinery however the fee model works i don't know the fee model works i don't know um um then then the next thing is like what is the issue the next thing is like what is the issue of balance like if i take the cap 48 of balance like if i take the cap 48 version and i ask the concept like hey version and i ask the concept like hey like balance of the asset issuer like balance of the asset issuer what should i return what should i return if i return 0 if i return 0 should i return in 60 formats should i should i return in 60 formats should i return you at 256 max return you at 256 max i mean like i have no idea what number i mean like i have no idea what number to return there is no sensible answer to return there is no sensible answer the balance of the issuer is infinite the balance of the issuer is infinite uh and also zero uh and also zero zero zero sorry i think zero i think zero is a sorry i think zero i think zero is a good answer for that question but like good answer for that question but like you can make a payment from the issuer you can make a payment from the issuer in account so surely the balance isn't in account so surely the balance isn't zero sure it can mint right but it does zero sure it can mint right but it does it like the it's the balance of like the it like the it's the balance of like the currently minted uh you know the current currently minted uh you know the current circulating supply

00:13:00.000 --> 00:13:59.999 align:start position:0%
i don't know man it's not compelling to me me um at all um at all because like in this context like because like in this context like the function transfer for what like the the function transfer for what like the function transfer when called on the function transfer when called on the issuer issuer actually has to me which is not how an erc20 normally works and since it like if i can call transfer and since it like if i can call transfer i should have enough balance to make i should have enough balance to make that transfer you see if the function that transfer you see if the function transfer 100 would succeed transfer 100 would succeed then i must have a balance of greater then i must have a balance of greater than 100. than 100. i mean should we be rethinking uh i mean should we be rethinking uh how how trust lines work in the legacy model trust lines work in the legacy model like i i i i think it might have been a like i i i i think it might have been a design mistake that like design mistake that like payment is how you create assets payment is how you create assets um um like i know like obviously a lot of like i know like obviously a lot of people expect that now but like maybe people expect that now but like maybe that's something that we should that's something that we should reconsider that like actually an issuer reconsider that like actually an issuer can have a balance can have a balance uh i totally agree that i would love to

00:14:00.000 --> 00:14:59.999 align:start position:0%
uh i totally agree that i would love to change that but it would be a lot of change that but it would be a lot of work that i don't want to do in this work that i don't want to do in this context time wise when like we could context time wise when like we could just fix the interface on the erc20 side just fix the interface on the erc20 side of it so that this doesn't happen of it so that this doesn't happen anymore anymore and that's that if you want the same and that's that if you want the same behavior use smart contracts that's what behavior use smart contracts that's what cap 49 proposes this problem doesn't cap 49 proposes this problem doesn't exist in cat49 exist in cat49 the reason it doesn't exist in cap 49 is the reason it doesn't exist in cap 49 is because the issuer now can't hold a real because the issuer now can't hold a real balance balance and transfer doesn't mint anymore and transfer doesn't mint anymore because it's all operating on these because it's all operating on these wrapped up tokens wrapped up tokens tomer's making a lot of faces so i feel tomer's making a lot of faces so i feel like he's doubtful about my argument like he's doubtful about my argument here here no i'm not awful about your argument i no i'm not awful about your argument i understand why like i think there's an understand why like i think there's an elegance to cap 49 which is like better elegance to cap 49 which is like better separation between classic and smart separation between classic and smart uh but we are putting uh but we are putting a lot of um a lot of um burden on you know downstream systems in burden on you know downstream systems in the user the user to actually like to actually like to wrap and unwrap uh tokens and like

00:15:00.000 --> 00:15:59.999 align:start position:0%
to wrap and unwrap uh tokens and like present some sort of like a unified view present some sort of like a unified view of the universe of the universe uh that like across the across these uh that like across the across these boundaries uh i agree about the unified boundaries uh i agree about the unified view of the universe i don't really view of the universe i don't really agree about the burden of wrapping and agree about the burden of wrapping and unwrapping unwrapping there's a section about that but there's a section about that but obviously i dropped this on you guys obviously i dropped this on you guys like two hours ago so i don't assume like two hours ago so i don't assume you've all read it but basically my you've all read it but basically my argument is like well hey you have to go argument is like well hey you have to go and work through this whole allowances and work through this whole allowances thing anyway thing anyway um and if you have to go and do that you um and if you have to go and do that you can wrap up your assets when you're can wrap up your assets when you're doing that at the same time doing that at the same time uh there's nothing stopping you from uh there's nothing stopping you from doing them at the exact same time doing them at the exact same time uh uh so like since your wallet is gonna guide so like since your wallet is gonna guide you through the allowances anyway it you through the allowances anyway it might as well guide you through the might as well guide you through the wrapping wrapping um um that's kind of my argument that might that's kind of my argument that might not apply in the context of like the eip not apply in the context of like the eip 20 2612 is that the one where you have 20 2612 is that the one where you have the permit function i have to go and the permit function i have to go and look at how that would work but i assume look at how that would work but i assume we can do a similar thing for the we can do a similar thing for the wrapping anyway uh so probably it would wrapping anyway uh so probably it would still be fine still be fine um

00:16:00.000 --> 00:16:59.999 align:start position:0%
okay any questions before i do another one am any questions before i do another one am i am i actually being helpful here i am i actually being helpful here should i stop you're being very helpful john um i'd love to hear nico's take i know um i'd love to hear nico's take i know he's been having some uh technical he's been having some uh technical challenges can anybody here okay um john can you talk a bit about um about the various authorization models about the various authorization models um um author required author revocable while author required author revocable while backable and how they would backable and how they would relate to the to both cap 48 and cup 49 relate to the to both cap 48 and cup 49 yeah um definitely so in cap 48 yeah um definitely so in cap 48 everything kind of just works the way it everything kind of just works the way it used to

00:17:00.000 --> 00:17:59.999 align:start position:0%
used to uh uh there's no magic to it at all there's no magic to it at all uh the only catch is that like you can't uh the only catch is that like you can't do the auth stuff from smart we could do the auth stuff from smart we could make it said you could but there's like make it said you could but there's like a wide variety of reasons why you should a wide variety of reasons why you should not be able to not be able to uh and that might be a problem uh and that might be a problem um but the um but the in cap 49 the auth stuff works a little in cap 49 the auth stuff works a little differently differently but they it works differently in a like but they it works differently in a like favorably good way favorably good way everything is simpler um everything is simpler um and we can actually fix some things that and we can actually fix some things that were broken or not broken perhaps but were broken or not broken perhaps but less than ideal in cap less than ideal in cap in classic in classic so the first thing that's better is like so the first thing that's better is like in classic there are three authorization in classic there are three authorization states you can be unauthorized states you can be unauthorized authorized to maintain liabilities or authorized to maintain liabilities or authorized authorized in cap 49 in cap 49 all of that still exists in classic but all of that still exists in classic but in smart there's only check in smart there's only check you're either authorized you're an you're either authorized you're an officer because there are no liabilities officer because there are no liabilities so authorized to maintain liability is so authorized to maintain liability is the same as unauthorized so we don't the same as unauthorized so we don't even need to represent it at all even need to represent it at all glorious

00:18:00.000 --> 00:18:59.999 align:start position:0%
glorious um um the um the next thing is like we had to the um the next thing is like we had to do this like off clock uh sorry do this like off clock uh sorry trustline clawback trustline clawback trustline flag fallback enabled trustline flag fallback enabled something like that i can't remember the something like that i can't remember the name of it anymore to preserve backwards name of it anymore to preserve backwards compatibility with trust lines that like compatibility with trust lines that like you didn't believe that they would ever you didn't believe that they would ever be clawbackable be clawbackable but since clawback already exists before but since clawback already exists before smart smart everybody anything that anybody ever everybody anything that anybody ever builds on smart should be aware of the builds on smart should be aware of the fact that clawback is possible so we fact that clawback is possible so we don't need that flag either sweet uh so don't need that flag either sweet uh so now we solve two problems already now we solve two problems already um and so now um and so now basically the way that auth works is basically the way that auth works is it's just like a single bit on your it's just like a single bit on your account account not on your account on your like stored not on your account on your like stored in the contract data i guess stored in in the contract data i guess stored in this like wrapable balance entry type of this like wrapable balance entry type of thing thing um and all it does um and all it does is um it says whether you're allowed to is um it says whether you're allowed to use the contract or not use the contract or not uh and it's more i'm like representing uh and it's more i'm like representing it more in the like it more in the like completely not allowed to use the completely not allowed to use the contract sense

00:19:00.000 --> 00:19:59.999 align:start position:0%
contract sense than than just what like stellar classic would just what like stellar classic would allow for example if your account allow for example if your account is not is not authorized on the contract then you authorized on the contract then you can't even use transfer from to transfer can't even use transfer from to transfer from two other people from two other people you can't even be you can never be the you can't even be you can never be the sender basically sender basically on this account on this account um and that i didn't think of that um and that i didn't think of that originally but that is what is originally but that is what is implemented in that usdc contract that i implemented in that usdc contract that i was looking at and that approach makes a was looking at and that approach makes a lot of sense to me if i'm not authorized lot of sense to me if i'm not authorized to use it for my own balances i probably to use it for my own balances i probably shouldn't be authorized to use it for shouldn't be authorized to use it for anybody else's balances either sounds anybody else's balances either sounds dangerous dangerous so so um that's the only real difference um that's the only real difference but basically like author revocable but basically like author revocable clawback all of that stuff that can clawback all of that stuff that can happen on the contract side of it happen on the contract side of it it's just determined by whatever the it's just determined by whatever the issuer flags issuer flags if the issue of flags are currently if the issue of flags are currently revocable irrevocable if it's currently revocable irrevocable if it's currently clawbackable you're applaud backable clawbackable you're applaud backable that's it that's it no other magic to it so it's a much no other magic to it so it's a much simpler implementation than exists on simpler implementation than exists on classic basically

00:20:00.000 --> 00:20:59.999 align:start position:0%
does that kind of answer your question oh i definitely have some other questions obviously wrapping uh you can only do obviously wrapping uh you can only do from from like a classic stellar asset from from like a classic stellar asset to a smart asset you won't be able to a smart asset you won't be able to go the other way around right so to go the other way around right so we're essentially saying that like there will be like a new universe of like payments for example only for of like payments for example only for smart contract smart contract assets that are completely in jump can assets that are completely in jump can like you won't be able to interoperate like you won't be able to interoperate from the from the likes of the classic uh protocol likes of the classic uh protocol uh i want to make sure i understand uh i want to make sure i understand exactly what you're asking me

00:21:00.000 --> 00:21:59.999 align:start position:0%
exactly what you're asking me are you saying that there will be an are you saying that there will be an like like are you saying that basically like when are you saying that basically like when somebody somebody wants to use a classic asset it ends up wants to use a classic asset it ends up being only usable and smart until they being only usable and smart until they send it back or you're saying that this send it back or you're saying that this is kind of a model where people will be is kind of a model where people will be using like will be making like erc20 using like will be making like erc20 type assets on smart type assets on smart i'm saying let's say let's say i'm i'm saying let's say let's say i'm issuing a new asset on the on the jump issuing a new asset on the on the jump can inside can inside uh doesn't relate at all to these uh doesn't relate at all to these wrapped assets or um or to any adapter wrapped assets or um or to any adapter whatsoever it's just like my own whatsoever it's just like my own you know tomer coin you know tomer coin uh tomercoin will not be accessible from uh tomercoin will not be accessible from the classic protocol in any way like i the classic protocol in any way like i wouldn't be able to use like a classic wouldn't be able to use like a classic payment operation on this coin payment operation on this coin i mean we should obviously we can't i mean we should obviously we can't prevent that but we should discourage it prevent that but we should discourage it right like it would be a bummer right like it would be a bummer if if um um [Music] [Music] you know at some point we want to have you know at some point we want to have like really cheap payments and trades

00:22:00.000 --> 00:22:59.999 align:start position:0%
like really cheap payments and trades right and so right and so uh to the greatest extent possibly want uh to the greatest extent possibly want to encourage people to to encourage people to use assets that can participate in use assets that can participate in you know things like speed x right i mean i suppose in this context like if you wanted something that was you know you wanted something that was you know that could be converted to a classic that could be converted to a classic asset asset what you would probably just do is what you would probably just do is actually actually make it a classic asset and use the make it a classic asset and use the wrapper wrapper right right that's what i'm saying that basically that's what i'm saying that basically like it will be like it will be uh it will be uh it will be of course it's true you know we of course it's true you know we will people can implement their own will people can implement their own assets but uh to the greatest extent assets but uh to the greatest extent possible we hope that our classic assets possible we hope that our classic assets will actually will actually serve the needs of kind of ninety serve the needs of kind of ninety percent of the kinds of assets people

00:23:00.000 --> 00:23:59.999 align:start position:0%
percent of the kinds of assets people want to issue want to issue but one would hope but one would hope right otherwise yes no but if i want to right otherwise yes no but if i want to coin coin to have features that are missing from to have features that are missing from the current seller protocol then i have the current seller protocol then i have no other choice right no other choice right so so i think i think regardless of what we do we need to regardless of what we do we need to acknowledge that we're basically acknowledge that we're basically going into a world in which there are going into a world in which there are two classes of assets two classes of assets assets that are interoperable between assets that are interoperable between these two these two um um uh runtimes and assets that are only in uh runtimes and assets that are only in jump cannon and like do not inter jump cannon and like do not inter operate operate and it sounds like we're also saying and it sounds like we're also saying that classic assets that already exist that classic assets that already exist uh we wouldn't be able to add in like if uh we wouldn't be able to add in like if you any of those features tomorrow that you any of those features tomorrow that you want to add to tomocoin you want to add to tomocoin um if ustc wanted to add it had those um if ustc wanted to add it had those same features they wouldn't be able to same features they wouldn't be able to do that because they're it's a classic do that because they're it's a classic asset is that right asset is that right you might migrate back into the native you might migrate back into the native protocol

00:24:00.000 --> 00:24:59.999 align:start position:0%
i wouldn't actually rely on us building any new features on the old protocol any new features on the old protocol i think that's uh i think that's uh um um yeah yeah john is smiling that's all i needed john is smiling that's all i needed if that's if that's the case then like if that's if that's the case then like we're actually by doing this we're not we're actually by doing this we're not really planning a way to bring new really planning a way to bring new features to existing classic assets so features to existing classic assets so is there going to be this slow overtime is there going to be this slow overtime movement of assets that just stop using movement of assets that just stop using classic classic and then and then we lose the ability to have assets to we lose the ability to have assets to speed x and things like that speed x and things like that to be honest i think that somewhere coin to be honest i think that somewhere coin is a bit of a is a bit of a of an edge case like if we look at like of an edge case like if we look at like it's not like assets on stellar actually it's not like assets on stellar actually have have um um very true very true real features missing from them real features missing from them uh like it look like we do have a good uh like it look like we do have a good coverage of like asset features um coverage of like asset features um so i'm not offended by the idea of like so i'm not offended by the idea of like issuing them still on the classic side issuing them still on the classic side and wrapping them

00:25:00.000 --> 00:25:59.999 align:start position:0%
i i i'd like to find a way from the the user i'd like to find a way from the the user experience to make it the the wrapping experience to make it the the wrapping uh parts less uh parts less visible visible and not have like multiple balances for and not have like multiple balances for like the same hassle uh but we can like the same hassle uh but we can figure that out later because the you figure that out later because the you know the the ewe experience is not know the the ewe experience is not uh uh you know you know when you're crypto native it makes sense when you're crypto native it makes sense when you're like you know just just uh when you're like you know just just uh you know arando trying to make their you know arando trying to make their first steps in defa it's not like the first steps in defa it's not like the best experience best experience yeah i totally acknowledge that yeah i totally acknowledge that one thing that is kind of missing from one thing that is kind of missing from the wrapped contract proposal that i the wrapped contract proposal that i wrote which i did think about this wrote which i did think about this morning was whether there should be mint morning was whether there should be mint and burn operations and burn operations on the smart side on the smart side if there were mint and burn operations if there were mint and burn operations on the smart side on the smart side it would be possible to effectively it would be possible to effectively issue a classic asset issue a classic asset and then always work on the smart side

00:26:00.000 --> 00:26:59.999 align:start position:0%
and then always work on the smart side and so like your users could unwrap them and so like your users could unwrap them and then use them on classic and re-wrap and then use them on classic and re-wrap them if we wanted to preserve that them if we wanted to preserve that interoperability but like in practice interoperability but like in practice everything would happen on smart everything would happen on smart and people would never really be doing and people would never really be doing the wrapping and unwrapping unless they the wrapping and unwrapping unless they want to go back to classic want to go back to classic uh and so that in that world you avoid uh and so that in that world you avoid the rap step like imagine if like the rap step like imagine if like you have an anchor flow that instead of you have an anchor flow that instead of issuing you the classic acid then you issuing you the classic acid then you have to wrap it up and send it smart have to wrap it up and send it smart you just like they ask you like hey like you just like they ask you like hey like do you want this to be smart or classic do you want this to be smart or classic and if you want it to be smarter they and if you want it to be smarter they just issue it on the smart side just issue it on the smart side um and then you don't have to do the um and then you don't have to do the wrapping wrapping or we could even do that by make that or we could even do that by make that the default at some point that might the default at some point that might make the ux better for some cases which make the ux better for some cases which maybe would be a lot of cases actually i maybe would be a lot of cases actually i don't know what do you think about that don't know what do you think about that summer slash lee it's yeah like it complicates things for the issue and now they need to decide which issue and now they need to decide which side belongs side belongs on uh ideally there would be like one

00:27:00.000 --> 00:27:59.999 align:start position:0%
on uh ideally there would be like one um especially with like these stellar um especially with like these stellar assets that we expect to be the majority assets that we expect to be the majority we want to have like a very we want to have like a very straightforward best practice um and i straightforward best practice um and i think we might be just confusing the the think we might be just confusing the the issue issue with adding that functionality on the with adding that functionality on the smart contract smart contract i also think we're asking the issuer to i also think we're asking the issuer to make a decision really on versus uh make a decision really on versus uh between scale and flexibility between scale and flexibility so we want to be able to if we want like so we want to be able to if we want like what david said an issuer wants an asset what david said an issuer wants an asset to be used on things like speed x or on to be used on things like speed x or on cheap payment operations they're going cheap payment operations they're going to get they're going to be tempted to go to get they're going to be tempted to go that scale route but then that might be that scale route but then that might be conflicting with flexibility like if conflicting with flexibility like if they want to have they want to have i don't know some sort of um sep 8 like i don't know some sort of um sep 8 like functionality that allows that's on functionality that allows that's on chain that you know maybe says chain that you know maybe says you can use my asset if you uh you can use my asset if you uh have already been authorized to use some have already been authorized to use some other asset other asset um you know as a sort of like a kyc um you know as a sort of like a kyc interface or something like that

00:28:00.000 --> 00:28:59.999 align:start position:0%
interface or something like that um um like if they want to add something like like if they want to add something like that later on or i don't know like that later on or i don't know like they have to decide at the point of they have to decide at the point of issuing am i going to be a smart asset issuing am i going to be a smart asset or a or a an asset they can scale maybe that well i'd have to think about whether there's a workaround for that a workaround for that there might there might be one um i'm there might there might be one um i'm not really sure so i don't know i can't i'd have to think i don't know i can't i'd have to think about that more to answer what i think just to clarify because i was going to ask this question i think you just ask this question i think you just answered it with that lee like answered it with that lee like i'm an issuer and i'm ch and i'm and i'm an issuer and i'm ch and i'm and there's a choice i can choose to issue a there's a choice i can choose to issue a classic or i can choose to issue on classic or i can choose to issue on smart smart advantage for issuing on classic advantage for issuing on classic is that

00:29:00.000 --> 00:29:59.999 align:start position:0%
is that has better scalability has better scalability maybe true i'm just thinking like if new issuers come to me come to me the other advantages are choose to issue the other advantages are choose to issue unclassic sorry can you say that one more time justin i couldn't hear the whole thing justin i couldn't hear the whole thing oh oh this this this well basically when new issuers this well basically when new issuers joined the network why would they choose joined the network why would they choose to issue one classic well presumably the idea of classic rate is that your um is that your um your asset is uh very well defined right your asset is uh very well defined right there's just like you know four bits or there's just like you know four bits or whatever that like whatever that like tell everybody exactly what to expect of tell everybody exactly what to expect of your asset your asset um and so that lets you know the the the um and so that lets you know the the the the fact that it's the fact that it's you know it's such a well-known quantity you know it's such a well-known quantity uh also unless it be like you know uh also unless it be like you know allows us to implement things more allows us to implement things more scalably

00:30:00.000 --> 00:30:59.999 align:start position:0%
scalably um um and uh let's you know sort of guarantee and uh let's you know sort of guarantee like things like auth immutable right like things like auth immutable right like guarantee that there won't be weird like guarantee that there won't be weird surprises i think the big thing is that classic will be will be cheaper and have more capacity cheaper and have more capacity that's the main reason to do that on that's the main reason to do that on classic but like for example do we expect um um exchanges to uh exchanges to uh offer both classic and smart assets or offer both classic and smart assets or just classic assets just classic assets like well you know like well you know when when you're getting usdc or when when you're getting usdc or whatever um whatever um will it be a smart usdc or will just be will it be a smart usdc or will just be like classic usdc like classic usdc it'll be classic everything that it'll be classic everything that exchanges do exchanges move slow they exchanges do exchanges move slow they move very slow move very slow uh and they're very resistant to uh and they're very resistant to introducing changes so if you ever hope introducing changes so if you ever hope for you for you listed on you know kraken or wherever

00:31:00.000 --> 00:31:59.999 align:start position:0%
listed on you know kraken or wherever like you'll want to make it classic that's a good point yes yeah yeah generally speaking i think that uh yeah generally speaking i think that uh except for like extreme except for like extreme um use cases for with smart contracts um use cases for with smart contracts that have sophisticated that have sophisticated non-trivial logic i definitely think we non-trivial logic i definitely think we need to push everyone to issue on need to push everyone to issue on classic classic and use this uh and use this uh whatever interoperability scheme whatever interoperability scheme we decide on then i think it becomes pretty important to make it as easy as possible to do to make it as easy as possible to do this this like those mint and burn operations i like those mint and burn operations i was talking about they sound important was talking about they sound important now now because like if we want people to get because like if we want people to get like a unified smart user experience like a unified smart user experience but still have an underlying classic but still have an underlying classic asset asset that you can like actually unwrap that that you can like actually unwrap that would be the easiest way to get that would be the easiest way to get that um um so so we probably should do that

00:32:00.000 --> 00:32:59.999 align:start position:0%
yeah we're yeah we're about to make yeah we're about to make uh horizon's life uh horizon's life a bit hellish a bit hellish um with like figuring out these things um with like figuring out these things and how to convey them to the wallets and how to convey them to the wallets um wait um wait but isn't the whole point of if you but isn't the whole point of if you issue your asset as a classic asset then issue your asset as a classic asset then horizon should just work right horizon should just work right that's another yes that's another yes yeah but the question is like if a user yeah but the question is like if a user wants to do something on the smart side wants to do something on the smart side you know let's say i did something on you know let's say i did something on the smart side and now i have like part the smart side and now i have like part of my usbc balance is on classic part of of my usbc balance is on classic part of the usdc thing the usdc thing is on uh is on jump cannon is on uh is on jump cannon now verizon needs to give now verizon needs to give you know give wallet some like unified you know give wallet some like unified view view but then but then why should horizon even touch the smart why should horizon even touch the smart side of things

00:33:00.000 --> 00:33:59.999 align:start position:0%
i agree george can you expand on on why you agree i would also love to hear more i agree i would also love to hear more i was also like it just doesn't seem like horizons place to make those kinds of to make those kinds of to coalesce those separate things to coalesce those separate things like like if you're making them separate then they if you're making them separate then they should stay separate because we just should stay separate because we just give an accurate reflection of give an accurate reflection of the core's state of the world the core's state of the world and so if you have them in two places and so if you have them in two places then we reflect them in two places right then we reflect them in two places right well well a wallet uses horizon as well well a wallet uses horizon as um as it's kind of like um as it's kind of like you know uh you know uh just beta access layer into this into just beta access layer into this into the stellar universe right the stellar universe right now if a wallet now if a wallet classic wallet classic wallet well no a wallet a wallet wallet well no a wallet a wallet wallet not just a classic wallet not just a classic wallet like i i don't have any smart wallets

00:34:00.000 --> 00:34:59.999 align:start position:0%
like i i don't have any smart wallets but i would imagine smart wallets maybe but i would imagine smart wallets maybe wouldn't well like wouldn't well like stellar wallets would want to add smart stellar wallets would want to add smart functionality right it's not going to be functionality right it's not going to be like two universes like two universes that's the whole thing right you know if that's the whole thing right you know if i have a stellar wallet and i want to be i have a stellar wallet and i want to be able to participate in a d5 able to participate in a d5 application application and and i need to have i need to have access to all those information access to all those information um um and we need to find a way to present and we need to find a way to present that information you're going to need a that information you're going to need a level of extensibility level of extensibility uh that horizon just like it's not uh that horizon just like it's not it's just not the horizon way of doing it's just not the horizon way of doing things like maybe i have some asset and things like maybe i have some asset and it like it like keeps its own ledger and like some weird keeps its own ledger and like some weird you know you know uh compressed state or something right uh compressed state or something right so like i'm actually there's actually so like i'm actually there's actually going to need to be like kind of going to need to be like kind of server-side logic server-side logic for uh for decoding that right and for uh for decoding that right and that's not we don't want to be like that's not we don't want to be like loading that stuff into horizon right we loading that stuff into horizon right we want horizon to be stable and want horizon to be stable and predictable

00:35:00.000 --> 00:35:59.999 align:start position:0%
predictable let me let me rephrase maybe horizon is let me let me rephrase maybe horizon is a bit of a loaded term a bit of a loaded term but we need to provide but we need to provide a a data access layer to stellar that allows data access layer to stellar that allows wallets to reason about what's going on wallets to reason about what's going on on the smart side what's going on on the on the smart side what's going on on the um um dumb side sorry classic side and to dumb side sorry classic side and to interoperate with these like wrap-on interoperate with these like wrap-on wrap functions wrap functions so this might not be horizon this might so this might not be horizon this might be be you know horizon ng or whatever you know horizon ng or whatever but something needs to provide that but something needs to provide that functionality and that's something functionality and that's something is is you know like we're making its life a you know like we're making its life a bit difficult bit difficult well i mean i would argue that that well i mean i would argue that that something is going to need to be something is going to need to be much more sort of modular and extensible much more sort of modular and extensible than horizon right it's just going to be than horizon right it's just going to be a a totally different architecture in fact totally different architecture in fact you might have you might have many instances of this and you have many instances of this and you have would have would have some horizon ngs would have would have some horizon ngs that support some assets but not other

00:36:00.000 --> 00:36:59.999 align:start position:0%
that support some assets but not other assets right and i mean it would just be assets right and i mean it would just be it's just going to be a much more it's just going to be a much more heterogeneous ecosystem right assuming heterogeneous ecosystem right assuming that people are taking advantage of the that people are taking advantage of the smart contracts smart contracts all right camera can i try to get some all right camera can i try to get some clarity on what you're actually saying clarity on what you're actually saying here here are you saying that you are you saying that you that you want this that you want this thing i'm going to use the word horizon thing i'm going to use the word horizon and we're all just going to pretend and we're all just going to pretend we're talking about the same thing even we're talking about the same thing even though we're not though we're not um but you want horizon this data access um but you want horizon this data access layer layer to be able to talk about both the to be able to talk about both the wrapped balances and the unwrapped wrapped balances and the unwrapped classic balances like the trust line classic balances like the trust line balances or are you saying that you want balances or are you saying that you want it to be more generically useful for it to be more generically useful for exploring the state of the smart exploring the state of the smart contract universe outside of these asset contract universe outside of these asset adapter rapper things adapter rapper things i think you're saying the first one i think you're saying the first one but i think david thinks you're saying but i think david thinks you're saying the second one the second one and maybe you're not saying either of and maybe you're not saying either of them

00:37:00.000 --> 00:37:59.999 align:start position:0%
stuff right now like i'm trying to think of by the way can you guys hear me i of by the way can you guys hear me i don't know how long you were talking but don't know how long you were talking but i wasn't able to hear you for a while at i wasn't able to hear you for a while at least least okay can you guys hear me now yes yes okay can you guys hear me now yes yes yes yes okay awesome okay awesome so i'm talking about the wrapped assets so i'm talking about the wrapped assets uh specifically like the this kind of uh specifically like the this kind of like dance between wrapped assets and like dance between wrapped assets and regular assets um and i'm thinking about regular assets um and i'm thinking about uh if i'm if i'm trying to uh if i'm if i'm trying to um you know just like top down design um you know just like top down design from a user perspective like the wallet from a user perspective like the wallet experience experience all the experience they very all the experience they very um um they have like this universal view in they have like this universal view in which a user doesn't have to think about which a user doesn't have to think about you know which side an asset is on right you know which side an asset is on right so so either either the wallet needs to have these like the wallet needs to have these like multiple services that it interacts with multiple services that it interacts with or it has or needs to have like this or it has or needs to have like this unified um unified um uh uh you know service that it interacts with you know service that it interacts with that provides it with like a unified that provides it with like a unified view of the world

00:38:00.000 --> 00:38:59.999 align:start position:0%
view of the world um so um so i think that regardless of this is i think that regardless of this is something that that needs to happen uh something that that needs to happen uh and and it doesn't necessarily and and it doesn't necessarily um um um um actually actually yeah i think cap 48 might be yeah i think cap 48 might be more more friendly for downstream so i mean maybe the problem here is i didn't read these caps because i didn't didn't read these caps because i didn't uh hear about them in time uh hear about them in time so to the extent that the i guess that so to the extent that the i guess that there's a choice between there's a choice between uh explicitly wrapping and unwrapping uh explicitly wrapping and unwrapping versus like always having um versus like always having um uh assets be sort of both classic and uh assets be sort of both classic and smart at the same time i would i would smart at the same time i would i would uh you know strongly favor the unified uh you know strongly favor the unified one but again i haven't read the the the one but again i haven't read the the the um the rationales and stuff um the rationales and stuff um um you know assuming that we do that right you know assuming that we do that right then we're gonna have sort of classic then we're gonna have sort of classic assets which are also accessible in assets which are also accessible in smart contracts and we're gonna have smart contracts and we're gonna have like smart contract only assets so the like smart contract only assets so the for the classic assets

00:39:00.000 --> 00:39:59.999 align:start position:0%
for the classic assets horizon should be sufficient right horizon should be sufficient right because you can access those to the because you can access those to the classic interface for the new smart classic interface for the new smart assets assets every asset is going to need its own every asset is going to need its own horizon modification potentially or like horizon modification potentially or like a lot of assets are if they're if a lot of assets are if they're if they're if they're doing uh interesting they're if they're doing uh interesting things and so we're going to need a kind things and so we're going to need a kind of modularity on the server side we're of modularity on the server side we're like i might issue a new kind of asset like i might issue a new kind of asset with like new properties i'm going to with like new properties i'm going to need to like also present kind of like need to like also present kind of like horizon side logic to do that and i just horizon side logic to do that and i just to me it feels like to me it feels like danger like horizon doesn't feel like it danger like horizon doesn't feel like it has the kind of modularity and has the kind of modularity and extensibility that we would want for extensibility that we would want for that that we should think about a more like we should think about a more like plug-in friendly architecture there's another there's another angle to this too and that is a horizon like this too and that is a horizon like right now mostly horizon just provides right now mostly horizon just provides access to data access to data and uh if we just make sure that and uh if we just make sure that if we make it such that horizon has if we make it such that horizon has access to contract data technically

00:40:00.000 --> 00:40:59.999 align:start position:0%
access to contract data technically clients could still use that contract clients could still use that contract data to display things like the balances data to display things like the balances or whatever you know they can look up in or whatever you know they can look up in the contract data the same way the the contract data the same way the contract does contract does um there's some downsides to doing that um there's some downsides to doing that but that's one way for us to sort i but that's one way for us to sort i guess kick that can down the road a guess kick that can down the road a little bit you know we can but they can little bit you know we can but they can potentially be services that potentially be services that uh show some specific balance format for uh show some specific balance format for specific types of assets it doesn't have specific types of assets it doesn't have to be a horizon though clients could to be a horizon though clients could just use horizon to get like the raw just use horizon to get like the raw contract data actually i think that's that's sort of like the model that um of the first demo like the model that um of the first demo that paul had posted into the jump canon that paul had posted into the jump canon channel channel he posted a demo where he posted a demo where um you could use this horizon like um you could use this horizon like service to just get the raw contract service to just get the raw contract data and then the client can interpret data and then the client can interpret it however it wants

00:41:00.000 --> 00:41:59.999 align:start position:0%
uh john um is the main difference in terms of the interface between cap 48 terms of the interface between cap 48 and cap 49 like ignoring the wrapped and cap 49 like ignoring the wrapped asset part but the other main difference asset part but the other main difference just being supporting having that total just being supporting having that total supply um that's the other interface difference that's the other interface difference and then there's a couple other like and then there's a couple other like ambiguity improvements ambiguity improvements like it's very clear what the answer of like it's very clear what the answer of balance of is in all cases balance of is in all cases even outside of just the issuer case in even outside of just the issuer case in cap 49 like is the balance the available cap 49 like is the balance the available balance or the raw balance this is one balance or the raw balance this is one of the things that i like kept coming of the things that i like kept coming back to when i was writing cap 48 back to when i was writing cap 48 and i don't think i was consistent and i don't think i was consistent everywhere everywhere but in cap 49 like there is no notion of but in cap 49 like there is no notion of the available balance from the context the available balance from the context perspective it's just the balance perspective it's just the balance so like there's there's like some

00:42:00.000 --> 00:42:59.999 align:start position:0%
so like there's there's like some interface improvements in that like you interface improvements in that like you get the total supply and cap 49 you get the total supply and cap 49 you don't get in 48 but like the interface don't get in 48 but like the interface is also just more logical in cap 49 like is also just more logical in cap 49 like i don't there's only one right answer i don't there's only one right answer basically in cat 49 for every function basically in cat 49 for every function it just does the thing that you expect it just does the thing that you expect it to do because there's no other thing it to do because there's no other thing that it could possibly do do we have to keep to the erc20 interface exactly though like i i could interface exactly though like i i could see it being if we can solve the other see it being if we can solve the other problems so if we found a solution to problems so if we found a solution to total supply for cap 48 total supply for cap 48 we could say okay there's actually two we could say okay there's actually two balance functions there's you know balance functions there's you know the balance of and available our balance the balance of and available our balance of of um in the stellar ecosystem um in the stellar ecosystem is that fair is that fair and we definitely could do that and then and we definitely could do that and then we could basically say like hey like you we could basically say like hey like you know when you implement a token on know when you implement a token on stellar what you should do is implement stellar what you should do is implement both of these functions and probably both of these functions and probably there you want them to be the same there you want them to be the same function they just have the same function they just have the same implementation implementation we definitely could go and do everything we definitely could go and do everything in reverse in reverse uh

00:43:00.000 --> 00:43:59.999 align:start position:0%
uh so so yeah a little bit ah it sucks okay maybe i need to shout ah it sucks okay maybe i need to shout or something or something uh it's good enough uh it's good enough okay uh now i was going to say like the okay uh now i was going to say like the the uh the uh like the reason we have this on the like the reason we have this on the classic side is because of liabilities classic side is because of liabilities right and actually liabilities we could right and actually liabilities we could have implemented that differently like have implemented that differently like in in smart the way you would do it is in in smart the way you would do it is actually you would move the actual actually you would move the actual liquidity liquidity outside of the account right so i think outside of the account right so i think like you know like an offer basically like you know like an offer basically would be would be you would actually move you would actually move whatever you want to sell in the offer whatever you want to sell in the offer like that's not the way we did it like that's not the way we did it whatever whatever uh but uh but that's right to me i don't know if we that's right to me i don't know if we need to expose those two concepts like need to expose those two concepts like balance wise like the available i mean balance wise like the available i mean the the usable balance is usable balance is is the thing you want to expose is the thing you want to expose like you know the fact that we like you know the fact that we that whatever is locked in our office i that whatever is locked in our office i

00:44:00.000 --> 00:44:59.999 align:start position:0%
that whatever is locked in our office i mean this is uh mean this is uh not interesting i think from a smart not interesting i think from a smart contract point of view contract point of view it's not a it's not usable like it's not it's not a it's not usable like it's not available right i mean the main downside of that though is like the main downside of that though is like things that should be true cease to be things that should be true cease to be true like you should expect that the true like you should expect that the total supply is equal to the sum of all total supply is equal to the sum of all the balances that just won't be true this feels like a minor detail to me like the distinction about how we to me like the distinction about how we would expose these two values because we would expose these two values because we could just choose one or we could just could just choose one or we could just expose both expose both and doing either doesn't really break and doing either doesn't really break i don't think doing either would break a i don't think doing either would break a contract's ability to contract's ability to um um replicate what you know what's happening replicate what you know what's happening on other chains is on other chains is is that not true is that not true i i don't know if it's true i i don't know if it's true but like if your goal is to make it so

00:45:00.000 --> 00:45:59.999 align:start position:0%
but like if your goal is to make it so that these tokens interoperate perfectly that these tokens interoperate perfectly with what people are accustomed to using with what people are accustomed to using which is my goal here like if i could i which is my goal here like if i could i would just like take the stuff that would just like take the stuff that people have been building on for five people have been building on for five years and just like build exactly that years and just like build exactly that stuff on seller because that's how we're stuff on seller because that's how we're gonna get the fastest adoption gonna get the fastest adoption and any place where it's not exactly and any place where it's not exactly obvious how it works exactly the same obvious how it works exactly the same that's friction that's going to start that's friction that's going to start with a slow adoption with a slow adoption and if it doesn't work exactly the same and if it doesn't work exactly the same then it's really going to slow adoption then it's really going to slow adoption so like the first step is like is it so like the first step is like is it obvious that it works exactly the same obvious that it works exactly the same if the answer is no you probably have a if the answer is no you probably have a problem and then if it doesn't work problem and then if it doesn't work exactly the same you have a second exactly the same you have a second problem problem so that's how i feel about this it's so that's how i feel about this it's like anything we can do to make those like anything we can do to make those answers like answers like this is so obvious that you don't need this is so obvious that you don't need to think about it and it does exactly to think about it and it does exactly what you're used to that should be our what you're used to that should be our goal i don't know if people disagree with that goal but i i think it's a really that goal but i i think it's a really good goal like my goal would be to make good goal like my goal would be to make this so stupidly easy for people to use

00:46:00.000 --> 00:46:59.999 align:start position:0%
this so stupidly easy for people to use because they're so familiar with it because they're so familiar with it that they want to build right now that they want to build right now immediately you know and unless there are things about the way that systems currently work that way that systems currently work that people hate uh there are and that that eip 2612 thing that i mentioned was something thing that i mentioned was something that tomer pointed out that some people that tomer pointed out that some people found a big improvement about something found a big improvement about something that people hate from erc20 so like that people hate from erc20 so like it can be better it can be better but but um all of these things work better than um all of these things work better than classic stellar assets i think at least classic stellar assets i think at least for like the needs of smart contracts so i mean i guess we have about 12 minutes left in this meeting do we do we minutes left in this meeting do we do we want to keep like i know that there's a

00:47:00.000 --> 00:47:59.999 align:start position:0%
want to keep like i know that there's a few other um sort of questions that came few other um sort of questions that came up up um outside the interoperability um outside the interoperability questions do we want to take this time questions do we want to take this time to discuss those or should we stick with to discuss those or should we stick with interoperability there's contract interoperability there's contract management questions that i know there's management questions that i know there's cat 47 talks about cat 47 talks about instance stuff that we want to cover especially because the cap 48 49 discussion for now i feel like there's a lot to think about and discuss and discuss it does feel like we got to a natural it does feel like we got to a natural lull do you want to talk about the cap that you've been working on you've been working on yeah i can start with the cat 47 yeah i can start with the cat 47 uh so uh so all right cat47 just specifies how all right cat47 just specifies how contract management would work contract management would work

00:48:00.000 --> 00:48:59.999 align:start position:0%
contract management would work actually creating update and removing actually creating update and removing contracts so it's contracts so it's know relatively simple compared to cap know relatively simple compared to cap 46 and 46 and 48.49 48.49 uh lee had some questions related to uh lee had some questions related to this this i think the most interesting one was i think the most interesting one was uh we we allow mutable contracts uh we we allow mutable contracts uh and the cap doesn't specify any uh and the cap doesn't specify any versioning right now versioning right now uh so one of his questions was that uh so one of his questions was that if you if you allow immutable contracts if you if you allow immutable contracts how would you identify how would you identify uh which contract version was used for a uh which contract version was used for a specific invocation currently there's specific invocation currently there's nothing in there that you would have to nothing in there that you would have to you know replay history and go look at you know replay history and go look at which contract entry was used as which contract entry was used as specific invocation specific invocation um um uh uh so yeah so the least question was around so yeah so the least question was around you know auditing which contract was you know auditing which contract was used used uh uh i'm not sure if i'm not sure if this is something we should add lee do this is something we should add lee do you want to talk about this

00:49:00.000 --> 00:49:59.999 align:start position:0%
um yeah i mean you you basically you yeah i mean you you basically you basically set up like uh basically set up like uh i i just i think there's there's two i i just i think there's there's two components to it identification and then components to it identification and then referencing referencing um so um so uh uh there should be some way i think for there should be some way i think for someone to speak concretely around about someone to speak concretely around about a specific version of a contract um like a specific version of a contract um like you should be out there are going to be you should be out there are going to be apis that expose information about apis that expose information about this is the transaction that executed this is the transaction that executed this is what it executed on this is what it executed on um there should um there should it makes a lot of sense i think for it makes a lot of sense i think for those apis to be able to point exactly those apis to be able to point exactly to the exact code and maybe that's just to the exact code and maybe that's just a hash of the code a hash of the code um um and if if so that's that's great we just and if if so that's that's great we just need to include that in the cap need to include that in the cap um um maybe it doesn't even need to be stored maybe it doesn't even need to be stored on the ledger i'm not sure um if that's on the ledger i'm not sure um if that's important uh it could just be a hash important uh it could just be a hash that's not actually stored and you have that's not actually stored and you have to calculate it if you want to calculate to calculate it if you want to calculate it um it um there just needs to be yeah and i i

00:50:00.000 --> 00:50:59.999 align:start position:0%
there just needs to be yeah and i i guess guess in terms of storing in the ledger in terms of storing in the ledger like the question i had was like you like the question i had was like you know do we need to install that in the know do we need to install that in the transaction results or meta or something transaction results or meta or something like that so that there is something like that so that there is something more concrete or do you just have to more concrete or do you just have to know this transaction executed on ledger know this transaction executed on ledger five and if you go and look at ledger five and if you go and look at ledger five five um at the the state of the ledger you um at the the state of the ledger you can see that this is the contract that can see that this is the contract that was there um was there um yeah and like if we have to do that that yeah and like if we have to do that that just feels a bit ambiguous okay but i think uh nico may have mentioned something around may have mentioned something around uh you know there's a cost obviously to uh you know there's a cost obviously to storing um storing um 32 byte hashes for everything 32 byte hashes for everything um and so maybe this is actually not um and so maybe this is actually not realistic to store like that everywhere realistic to store like that everywhere a contract gets used or something so a contract gets used or something so nico i don't know if you want to expand nico i don't know if you want to expand on that

00:51:00.000 --> 00:51:59.999 align:start position:0%
seems to be having on and off issues connecting to this yeah i can hear you right now tomorrow you have been cutting in and out a bit have been cutting in and out a bit though from time to time yeah um um is this something that downstream is this something that downstream systems can do you know when they index systems can do you know when they index uh changes they can uh also index uh uh changes they can uh also index uh what what version of the contract uh what what version of the contract uh caused these changes i think so or at least maybe um george uh george uh might be able to shed some light on this might be able to shed some light on this i i think one thing i i think one thing we have had some issues with like

00:52:00.000 --> 00:52:59.999 align:start position:0%
we have had some issues with like backfilling some of this data in the backfilling some of this data in the past past um so i think one example would be um so i think one example would be you know claimable balances don't track you know claimable balances don't track who created them who created them and it would actually seem simple for us and it would actually seem simple for us to say oh yeah downstream systems should to say oh yeah downstream systems should be able to just figure that out be able to just figure that out but it was actually but it was actually really challenging i'm actually not sure really challenging i'm actually not sure if we actually found a solution for that maybe maybe there's going to be an ask to the horizon team who are sort of to the horizon team who are sort of experts in this field yeah i would say it's pretty hard to say right now especially for me um right now especially for me um i mostly joined as a listener so i'm not i mostly joined as a listener so i'm not super familiar with how these super familiar with how these caps caps are are suggested to be implemented right now suggested to be implemented right now but i do know that like we have the the but i do know that like we have the the key value data access model that paul is key value data access model that paul is working on working on um which provides access i guess to um which provides access i guess to contracts but maybe not so much how

00:53:00.000 --> 00:53:59.999 align:start position:0%
contracts but maybe not so much how those contracts have been interacted those contracts have been interacted with so that's definitely tbd with so that's definitely tbd from the horizon side i will say that i felt a little bad in retrospect about the not putting retrospect about the not putting who created a claimable balance on it who created a claimable balance on it earlier drafts of the proposal had that earlier drafts of the proposal had that feature feature and we convinced ourselves that it was a and we convinced ourselves that it was a that it was a waste to do it that it was a waste to do it um which was basically just saying like um which was basically just saying like yo horizon y'all figure it out which yo horizon y'all figure it out which like maybe wasn't super nice in like maybe wasn't super nice in retrospect but retrospect but i understand why we did it at the time i understand why we did it at the time and i don't know if and i don't know if i don't know if i would like even i don't know if i would like even knowing what i know now i'm not sure we knowing what i know now i'm not sure we would have done something differently would have done something differently for that particular case for that particular case um but there definitely is some like um but there definitely is some like potential potential risk for like risk for like caveat caveat in the future in the future like like i could imagine people wanting to know i could imagine people wanting to know exactly what happened even on chain exactly what happened even on chain like hey like this contract had a bug in like hey like this contract had a bug in it it like let me write a contract that goes

00:54:00.000 --> 00:54:59.999 align:start position:0%
like let me write a contract that goes and identifies all the bugged out data and identifies all the bugged out data like i could imagine doing that like i could imagine doing that uh or maybe you do it often i don't know uh or maybe you do it often i don't know i'm not sure um i'm not sure um but uh but uh i don't think i don't think we should i don't think i don't think we should just assume that the only obvious thing just assume that the only obvious thing is to push the problem down downstream yeah i think that's fair and specifically because in this case um specifically because in this case um the identifier or the reference whatever the identifier or the reference whatever call it could be derived from the data call it could be derived from the data itself itself so i think like the claim balance so i think like the claim balance created creator example created creator example um um is more challenging because it wasn't is more challenging because it wasn't actually derivable from the immediate actually derivable from the immediate data from the claimable balance itself data from the claimable balance itself whereas in this case it is like if you whereas in this case it is like if you have the wasn't code you could hash it

00:55:00.000 --> 00:55:59.999 align:start position:0%
have the wasn't code you could hash it and if we say the id is the hash then and if we say the id is the hash then um it might not be the button one thing i was talking to slightly different topic but still related to different topic but still related to like code versioning stuff like code versioning stuff that i was talking to darth about that i was talking to darth about yesterday afternoon yesterday afternoon [Music] [Music] was about like was about like maybe the state of like and like start maybe the state of like and like start had some reasons that this is like maybe had some reasons that this is like maybe not a brilliant idea not a brilliant idea and i don't claim it is but like um and i don't claim it is but like um basically like basically like the idea that i kind of had which was the idea that i kind of had which was weird was that all contract code is weird was that all contract code is mutable there are no immutability flags mutable there are no immutability flags or anything for it or anything for it but it's only mutable from within that but it's only mutable from within that own own smart contract so basically if you want smart contract so basically if you want to be able to redeploy your smart to be able to redeploy your smart contract you need to write a function

00:56:00.000 --> 00:56:59.999 align:start position:0%
contract you need to write a function that can redeploy your smart contract if that can redeploy your smart contract if it is missing your contract is immutable it is missing your contract is immutable um um if it is there then you can redeploy if it is there then you can redeploy your smart contract using whatever your smart contract using whatever scheme you want for signatures and stuff scheme you want for signatures and stuff so the main advantage i see to this is so the main advantage i see to this is like like you get immutability for free and you you get immutability for free and you get mutability for free but if you want get mutability for free but if you want me ability you just have to build me ability you just have to build whatever readability scheme you want whatever readability scheme you want um um but the uh the cash that's pointed out but the uh the cash that's pointed out that made me think that maybe this is that made me think that maybe this is not so smart is he said that if you not so smart is he said that if you accidentally bork your contract and accidentally bork your contract and forget to deploy your redeploy function forget to deploy your redeploy function you're dead you're dead you're just straight dead you're just straight dead so so um yeah that's that's your risk um yeah that's that's your risk basically yeah like we i think we uh concluded with the idea that maybe it uh concluded with the idea that maybe it might be a good idea to allow both you might be a good idea to allow both you know you can update the uh the contract know you can update the uh the contract with with update uh update uh manager or manager or update contract app or you can allow the update contract app or you can allow the the contract code itself

00:57:00.000 --> 00:57:59.999 align:start position:0%
the contract code itself up to upgrade the contract let me up to upgrade the contract let me obviously have to think about this obviously have to think about this a bit more but a bit more but that might that might be like that might that might that might be like that might be a good idea if you update if you deploy your contract contract um um when is the new contract available like when is the new contract available like the current ledger no it'd probably be the current ledger no it'd probably be the next led you're right the next led you're right yeah it'd be the next ledger it would i yeah it'd be the next ledger it would i guess the the operation would basically guess the the operation would basically be like hey at the end of this ledger be like hey at the end of this ledger write the new code write the new code uh kind of like the same thing as like uh kind of like the same thing as like when we were working on speed x it's when we were working on speed x it's like a speed x create offer operation like a speed x create offer operation means like hey when you go into the means like hey when you go into the speed x phase speed x phase make this offer and try to trade it make this offer and try to trade it so so there's some interesting applications of there's some interesting applications of that you know you could write a contract that you know you could write a contract that actually contains multiple versions

00:58:00.000 --> 00:58:59.999 align:start position:0%
that actually contains multiple versions of itself and it could change which of itself and it could change which version of itself is currently going to version of itself is currently going to be deployed based off some other inputs be deployed based off some other inputs um um yeah that's it's intriguing it's funny yeah that's it's intriguing it's funny you say that because i was thinking you say that because i was thinking about things like that too i was about things like that too i was thinking about deploying a client thinking about deploying a client that can write itself back to the chain that can write itself back to the chain uh which i thought was just like uh which i thought was just like intriguingly weird but there's some intriguingly weird but there's some examples of like twines that can write examples of like twines that can write themselves back even under this case of themselves back even under this case of corruption corruption so like you could imagine a contract so like you could imagine a contract that could have its data corrupted and that could have its data corrupted and then write itself back to the contract then write itself back to the contract anyway which is pretty neat i have no anyway which is pretty neat i have no idea how that could possibly be useful idea how that could possibly be useful but like there probably are useful but like there probably are useful versions of these kinds of machinery it feels like a good thought to end on since since especially since we're out of time especially since we're out of time um um so we are going to be having these so we are going to be having these meetings weekly i i don't know if we're meetings weekly i i don't know if we're having well we'll sort of deal with having well we'll sort of deal with scheduling in the background but so for scheduling in the background but so for anyone who's watching you you can find

00:59:00.000 --> 00:59:59.999 align:start position:0%
anyone who's watching you you can find them in this channel them in this channel um we're also going to be discussing um we're also going to be discussing this stuff asynchronously in the this stuff asynchronously in the jump canon and jump canon dev channels jump canon and jump canon dev channels here on discord um here on discord um thanks everybody thanks everybody i will talk to you all soon you
