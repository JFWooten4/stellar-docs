WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:59.999 align:start position:0%
okay so let's kick this off um today we're trying to make a very um today we're trying to make a very important decision with regards to how important decision with regards to how Stellar assets are represented in Stellar assets are represented in soroban and this is soroban and this is um a decision that we've been um a decision that we've been exploring various paths to achieve and exploring various paths to achieve and uh in in the past few months and we've uh in in the past few months and we've gotten to a point where we really need gotten to a point where we really need to make a decision and uh and anchor to make a decision and uh and anchor this so that we can move forward this so that we can move forward so in order to facilitate this so in order to facilitate this discussion we put together this doc uh discussion we put together this doc uh which Justin just shared in the live which Justin just shared in the live chat uh if uh if you haven't read it chat uh if uh if you haven't read it please please um open it up and take a look at it um open it up and take a look at it while we're talking because it's very while we're talking because it's very important important um so the kind of like the Crux of the um so the kind of like the Crux of the decision that we need to make is between decision that we need to make is between this idea of this idea of um how Stellar assets are represented in um how Stellar assets are represented in in soroban the current implementation in soroban the current implementation that we have is has like this maximum uh

00:01:00.000 --> 00:01:59.999 align:start position:0%
that we have is has like this maximum uh separation where sorobond tokens are separation where sorobond tokens are completely uh detached from Stellar completely uh detached from Stellar assets so you can have a balance both in assets so you can have a balance both in a stellar trust line and in a soroban uh a stellar trust line and in a soroban uh token by balance token by balance um and we're trying to figure out um and we're trying to figure out whether we want to keep it that way or whether we want to keep it that way or uh change uh change um to a single balance approach before um to a single balance approach before we touch on what a single balance we touch on what a single balance approach means I do want to mention that approach means I do want to mention that we talk a lot about wrap tokens here rap we talk a lot about wrap tokens here rap tokens is is probably a really bad tokens is is probably a really bad semantics it's a bit vestigial to how we semantics it's a bit vestigial to how we uh how we refer to these tokens when we uh how we refer to these tokens when we when we started off so we'll probably when we started off so we'll probably um uh change up semantics but I just um uh change up semantics but I just want everyone to be on the same page want everyone to be on the same page that we're talking about you know what that we're talking about you know what is the sorobond interface into Stellar is the sorobond interface into Stellar Stellar assets Stellar assets so so um I talked a bit about dual balance um I talked a bit about dual balance approach the single balance approach is

00:02:00.000 --> 00:02:59.999 align:start position:0%
approach the single balance approach is that basically accounts have just a that basically accounts have just a single balance in their trust line and single balance in their trust line and that is also exposed as a sorbon balance that is also exposed as a sorbon balance through this built-in contract through this built-in contract we put together in the stock a set of we put together in the stock a set of requirements and non-requirements we requirements and non-requirements we haven't gotten a lot of feedback on haven't gotten a lot of feedback on these so I think it looks like people these so I think it looks like people are on the same page are on the same page um and um and maybe because single balance approach is maybe because single balance approach is a bit new uh lee uh would you mind uh I a bit new uh lee uh would you mind uh I don't want to poke you too hard but can don't want to poke you too hard but can you give a very high level overview of you give a very high level overview of the single balance approach as the the single balance approach as the original proposer yeah so um uh yeah so the the goal with the single uh yeah so the the goal with the single balance approach is really to balance approach is really to um to make it so that any participant in um to make it so that any participant in the ecosystem uh when they're the ecosystem uh when they're interacting with an asset that exists on interacting with an asset that exists on Stella today in a truck being held in a

00:03:00.000 --> 00:03:59.999 align:start position:0%
Stella today in a truck being held in a trust line trust line they only have one place to look for they only have one place to look for they for that account so that account they for that account so that account um you know an application doesn't need um you know an application doesn't need to know a wallet developer doesn't need to know a wallet developer doesn't need to know they need to go and look at to know they need to go and look at balances in two places they only need to balances in two places they only need to look at that one place users don't need look at that one place users don't need to decide where to decide where um you know which balance they're going um you know which balance they're going to send from or send to all of those to send from or send to all of those things but on the same note with the things but on the same note with the single balance is really mostly focused single balance is really mostly focused on Stellar assets on Stellar assets so you know if somebody goes and makes a so you know if somebody goes and makes a token on sarban token on sarban um their own custom token um their own custom token um you know that that's like a um you know that that's like a completely separate thing so completely separate thing so um so the idea with single balances is um so the idea with single balances is um the if you're interacting with that um the if you're interacting with that Stellar asset Stellar asset um within sarban um within sarban um you know it looks to you just like um you know it looks to you just like it's any other token so it's a stellar it's any other token so it's a stellar assets still have assets still have uh are still exposed in Soren with the uh are still exposed in Soren with the exact same token interface they look

00:04:00.000 --> 00:04:59.999 align:start position:0%
exact same token interface they look like any other like any other um token uh like an erc20 style token on um token uh like an erc20 style token on sorbin but we're just storing that sorbin but we're just storing that balance in the trust line so there's balance in the trust line so there's just a single location right and and there's some um fork in the second section of this um fork in the second section of this dock around single balances whether uh dock around single balances whether uh you know the trust line semantics are you know the trust line semantics are only preserved for accounts or do we uh only preserved for accounts or do we uh include trust lines for new types of include trust lines for new types of entities like contracts and this um uh entities like contracts and this um uh in this approach and and we can talk a in this approach and and we can talk a bit about that bit about that um later I think my my first big um later I think my my first big question probably would be to uh question probably would be to uh Siddharth if you're if you're live on Siddharth if you're if you're live on this I know you you've been the main this I know you you've been the main implementer you and John for uh uh dual implementer you and John for uh uh dual balances and maybe you can share with us balances and maybe you can share with us from like uh you know from a Hands-On from like uh you know from a Hands-On technical perspective if we are going to technical perspective if we are going to move to a single balance approach what move to a single balance approach what would be the implications

00:05:00.000 --> 00:05:59.999 align:start position:0%
yeah so you know our like I've John and I took you know our like I've John and I took the perspective that the perspective that we would like to minimize the we would like to minimize the relationship between classic and sorbon relationship between classic and sorbon uh what and I say minimize because we uh what and I say minimize because we can't like importing and exporting can't like importing and exporting actually touches actually touches uh I require sorbon to interact with uh I require sorbon to interact with trust lines and you know there's trust lines and you know there's actually some pretty uh complex code in actually some pretty uh complex code in there where we actually replicate there where we actually replicate uh electrostline semantics in sorbon uh electrostline semantics in sorbon uh uh like like I I think I I I think we should like I I I I think I I I think we should like I I I'm still I'm still like support uh on I'm still I'm still like support uh on that side in that you know that question that side in that you know that question the thing you mentioned about how uh the thing you mentioned about how uh trust lines on for contracts not just trust lines on for contracts not just seller accounts that I think is like seller accounts that I think is like moving in the wrong direction if we do moving in the wrong direction if we do single balances we are introducing more single balances we are introducing more of classic into sorbonne and we're

00:06:00.000 --> 00:06:59.999 align:start position:0%
of classic into sorbonne and we're introducing more of the classic protocol introducing more of the classic protocol into sorbon and when it's much simpler into sorbon and when it's much simpler to maintain the separation as much as we to maintain the separation as much as we can can uh uh so that specific point is something and I think and Nico has a strong opinion think and Nico has a strong opinion there as well we can we can ask uh we there as well we can we can ask uh we can ask that later I think that the can ask that later I think that the before we go to that the question is you before we go to that the question is you know you mentioned that right now we're know you mentioned that right now we're replicating trust line semantics in replicating trust line semantics in um sorovan because we need to interact um sorovan because we need to interact with trust lines through the Import and with trust lines through the Import and Export functionality so that is true for Export functionality so that is true for dual balances dual balances um and obviously it will also be true um and obviously it will also be true um if we go for like a single balance um if we go for like a single balance approach is there significantly uh approach is there significantly uh more more kind of like classic semantics that we kind of like classic semantics that we need to need to um uh that we need to adopt in order to um uh that we need to adopt in order to move to single balances move to single balances uh the answer I would the answer is no I

00:07:00.000 --> 00:07:59.999 align:start position:0%
uh the answer I would the answer is no I don't think there would be significant don't think there would be significant uh any significant changes for example I uh any significant changes for example I think we've talked about so you can think we've talked about so you can actually use those functions the actually use those functions the functions that Import and Export use to functions that Import and Export use to implement a transfer uh using the single implement a transfer uh using the single balance world right balance world right um so in that case there would not be um so in that case there would not be you know it's not like the tone contract you know it's not like the tone contract would change much I mean we already have would change much I mean we already have to pre-flight with the trust lines right to pre-flight with the trust lines right um you're just you know it's pretty much um you're just you know it's pretty much like a like a you're just running an import right uh you're just running an import right uh as a transfer uh it's just like there's as a transfer uh it's just like there's there's some slight differences so yeah there's some slight differences so yeah if the answer to that is no there are I if the answer to that is no there are I don't think there would be significant don't think there would be significant differences differences okay so I just want to make sure we're okay so I just want to make sure we're all on the same page with regards to all on the same page with regards to what you're saying here you're saying what you're saying here you're saying that in terms of interaction with that in terms of interaction with classic what do we have right now as classic what do we have right now as import export on Dual balances import export on Dual balances um you can think of a single balance um you can think of a single balance transfer as basically like as these two transfer as basically like as these two things can combine like an import and

00:08:00.000 --> 00:08:59.999 align:start position:0%
things can combine like an import and expert at the same time uh so there's no expert at the same time uh so there's no added overhead of like interaction with added overhead of like interaction with the class approach the class approach no no there isn't there isn't okay so before we go into the details of okay so before we go into the details of uh more uh kind of like thinking about uh more uh kind of like thinking about uh the specific implementation of single uh the specific implementation of single balances is there anyone here that wants balances is there anyone here that wants to like Advocate some more for dual to like Advocate some more for dual balances I mean okay maybe the only thing I can add to to this thing to the Dual balance add to to this thing to the Dual balance uh like what is good about the dura uh like what is good about the dura durable so I think it's actually on the durable so I think it's actually on the performance side performance side um um because if you con if you think about because if you con if you think about the type of legendaries that you need uh the type of legendaries that you need uh in the in the dual balance world when you're doing uh

00:09:00.000 --> 00:09:59.999 align:start position:0%
dual balance world when you're doing uh sorbent payments sorbent payments uh you only have to deal with basically uh you only have to deal with basically one place whereas in the one place whereas in the single single uh balanced world when you do things uh balanced world when you do things like uh allowances now you're dealing like uh allowances now you're dealing with well actually you're dealing with with well actually you're dealing with two two um Legend trees plus you need to read uh um Legend trees plus you need to read uh issue our information uh you know from issue our information uh you know from classic so there's like some other added classic so there's like some other added overheads but you know we can maybe set overheads but you know we can maybe set that for the performance or that for the performance or implementation discussion implementation discussion okay but I just want to make sure like okay but I just want to make sure like when we're dealing with allowances today when we're dealing with allowances today um even if it's pure sorobon you still um even if it's pure sorobon you still need to touch need to touch both the balance Ledger entry and the both the balance Ledger entry and the allowance Ledger entry right allowance Ledger entry right yeah I think the only difference would yeah I think the only difference would be anything you would read from the be anything you would read from the issuer right because you still have two issuer right because you still have two balances you're gonna transfer balances you're gonna transfer on the StoryBots side and you know on on the StoryBots side and you know on the classic side you have two trust the classic side you have two trust lines lines yeah so you have like you have the one

00:10:00.000 --> 00:10:59.999 align:start position:0%
yeah so you have like you have the one time transfer right like like as far as time transfer right like like as far as like the balance where we store it like the balance where we store it versus the allowances there is actually versus the allowances there is actually no no um requirement that they are separate in um requirement that they are separate in the current implementation the current implementation you could actually store them in the you could actually store them in the same place too that's true you're saying same place too that's true you're saying that you would have one Ledger entry that you would have one Ledger entry with right all the information yeah with right all the information yeah that's not how it works at the moment that's not how it works at the moment but that is true but that is true I think that's a bit weird because I think that's a bit weird because balance is balance is operate on a key of a single account and operate on a key of a single account and allowances operate on two accounts like allowances operate on two accounts like who owns the balance and who gets the who owns the balance and who gets the allowance allowance right it doesn't matter it's basically right it doesn't matter it's basically on one when you do a payment as part of on one when you do a payment as part of an allowance right you you have like one an allowance right you you have like one of the endpoints is basically of the endpoints is basically holding the allowance holding the allowance so you pick which side but it doesn't so you pick which side but it doesn't need to be a third one need to be a third one right but but also just to zoom in on right but but also just to zoom in on that sit in terms of if we want to that sit in terms of if we want to adhere to

00:11:00.000 --> 00:11:59.999 align:start position:0%
adhere to um current authorization semantics even um current authorization semantics even if the do with the Dual balances if the do with the Dual balances approach approach isn't there a read to the issuer account isn't there a read to the issuer account anyway yeah if you want to do uh like if you want to check off required for example want to check off required for example is that what you were talking about yeah is that what you were talking about yeah yeah there is the issuer although you yeah there is the issuer although you can minimize that right at least like can minimize that right at least like that prototype we I wrote up if it's an that prototype we I wrote up if it's an you can only need to check if it's a New you can only need to check if it's a New Balance after that auth required doesn't Balance after that auth required doesn't matter right matter right um but that I mean that's like a minor um but that I mean that's like a minor implementation detail implementation detail does that make sense yep that makes sense uh I see that Eric is raising his hand maybe you can invite is raising his hand maybe you can invite him to speak Eric you're invited hey can you hear me yeah hey can you hear me yeah um I just wanted to ask are there any um I just wanted to ask are there any security implications in terms of security implications in terms of surface area uh in the in the single

00:12:00.000 --> 00:12:59.999 align:start position:0%
surface area uh in the in the single balance approach because in the Dual balance approach because in the Dual balance approach it feels like classical balance approach it feels like classical assets are pretty separated from Smart assets are pretty separated from Smart contracts and they can't be interacted contracts and they can't be interacted with directly and so on uh so in terms with directly and so on uh so in terms of things we may not have thought of of things we may not have thought of bugs that could be introduced and so on bugs that could be introduced and so on are there any security implications are there any security implications uh by getting a single process uh by getting a single process by the way this is a question that Fred by the way this is a question that Fred from Lightman was asking in the live from Lightman was asking in the live chat too chat too yeah and I think that's a really good yeah and I think that's a really good point I think it's in the docs somewhere point I think it's in the docs somewhere but but um just to give some more context on um just to give some more context on this uh you know smart contract balances this uh you know smart contract balances are susceptible to are susceptible to um various approval issues so let's say um various approval issues so let's say for example that either for example that either maliciously or uh because of an error a maliciously or uh because of an error a contract asks me for like uh to approve contract asks me for like uh to approve more uh more uh funds than they actually need and they funds than they actually need and they somehow managed to get me to sign that

00:13:00.000 --> 00:13:59.999 align:start position:0%
somehow managed to get me to sign that approval now they can access funds that approval now they can access funds that logically I don't want them to have logically I don't want them to have access to access to um and that's definitely a problem and um and that's definitely a problem and that's definitely an issue that if with that's definitely an issue that if with the clear separation of classic and the clear separation of classic and sorobon sorobon um it it doesn't exist um it it doesn't exist um it's and by the way this is a problem um it's and by the way this is a problem in in blockchains and in general and and in in blockchains and in general and and defy I do think that there are user defy I do think that there are user um actions that can uh that can um actions that can uh that can alleviate some of this I can basically alleviate some of this I can basically have like you know different accounts uh have like you know different accounts uh for uh as a user I can have different for uh as a user I can have different accounts for you know the risky stuff accounts for you know the risky stuff quote-unquote that I'm doing in quote-unquote that I'm doing in soroban versus the the less risky stuff soroban versus the the less risky stuff I'm doing in in Stellar but the the I'm doing in in Stellar but the the protocol doesn't mandate that separation

00:14:00.000 --> 00:14:59.999 align:start position:0%
but yeah I think that's a that's a super important uh perspective here important uh perspective here if if and and maybe like I'll add to this that and and maybe like I'll add to this that in terms of risk in terms of risk uh if you look at either implementation uh if you look at either implementation has actually a way to manipulate the um has actually a way to manipulate the um the the trust line right the balance on the the trust line right the balance on the classic side the classic side uh so like either it's like through this uh so like either it's like through this bridge you know like import export type bridge you know like import export type of function or uh it's actual you know of function or uh it's actual you know when you do a transfer when you do a transfer in either case if you have a bug you're in either case if you have a bug you're kind of you know in trouble so I think kind of you know in trouble so I think it doesn't like from that point of view it doesn't like from that point of view implementation wide I I don't think it implementation wide I I don't think it has uh you know much consequences has uh you know much consequences actually actually yeah I agree with you I think from an yeah I agree with you I think from an implementation perspective it's the same implementation perspective it's the same surface area uh but at uh like Eric and surface area uh but at uh like Eric and and Fred's point the approval

00:15:00.000 --> 00:15:59.999 align:start position:0%
and Fred's point the approval uh surface area is a bit more robe for uh surface area is a bit more robe for people to hang themselves with people to hang themselves with but that's something that yeah I mean I but that's something that yeah I mean I guess maybe something here but that's guess maybe something here but that's not part of this conversation because not part of this conversation because you know like at the same time I do want you know like at the same time I do want the serban tokens to be secure right so the serban tokens to be secure right so I think I think this is part of like uh I think I think this is part of like uh improvements we can make to the uh improvements we can make to the uh contract interface contract interface um I think they are like obvious flaws um I think they are like obvious flaws in if you were taking their verba team in if you were taking their verba team something like erc20 yeah I know we something like erc20 yeah I know we already started to incorporate some of already started to incorporate some of the changes that were done later but it the changes that were done later but it you know we don't need to stop there you know we don't need to stop there right like it's something that I think right like it's something that I think we have to double down on actually we have to double down on actually before we launch that thing before we launch that thing right and and here's a this is a a great right and and here's a this is a a great Shameless plug for some of the work that Shameless plug for some of the work that we've been doing on our token contract we've been doing on our token contract with supporting things like with supporting things like um um um like permit style approvals in which um like permit style approvals in which you only approve the specific amount you only approve the specific amount that that um uh that you'd like your you know D5

00:16:00.000 --> 00:16:59.999 align:start position:0%
um uh that you'd like your you know D5 protocol to use at the time protocol to use at the time so I do want to go a bit further down so I do want to go a bit further down the document and the document and um Talk a bit about this uh trust line um Talk a bit about this uh trust line yes trust line no trust line discussion yes trust line no trust line discussion that we've had that we've had um I know that the original proposal um I know that the original proposal that Lee made was to preserve for a that Lee made was to preserve for a single balance was to preserve trust single balance was to preserve trust lines only for accounts but uh contracts lines only for accounts but uh contracts and other non-account entities uh do not and other non-account entities uh do not require a trust line require a trust line um which means that they can do things um which means that they can do things like you know they don't have a minimal like you know they don't have a minimal Reserve Reserve um and they don't need to opt in to hold um and they don't need to opt in to hold an asset an asset um there's another folk in the road that um there's another folk in the road that we can take and which is to we can take and which is to um to mandate trust lines across the um to mandate trust lines across the board even for non-account entities like board even for non-account entities like contracts like other identifiers contracts like other identifiers um Lee can you tell us a bit about why um Lee can you tell us a bit about why the original proposal

00:17:00.000 --> 00:17:59.999 align:start position:0%
the original proposal um did not have trust lines for um did not have trust lines for non-account identifiers but yeah yeah um I guess it just didn't seem um I guess it just didn't seem particularly necessary like uh accounts particularly necessary like uh accounts have trust lines today and so they have have trust lines today and so they have a balance that's there and everybody a balance that's there and everybody knows where to go to find that balance knows where to go to find that balance um when contracts exist tomorrow uh or um when contracts exist tomorrow uh or now in future net now in future net um um uh you know we already uh you know we already I think that's that's an entirely new I think that's that's an entirely new thing like there's not really any need thing like there's not really any need for them to depend on trust lines well for them to depend on trust lines well we don't expect them to we don't expect them to um inherit everything uh you know all um inherit everything uh you know all the semantics around trust lines so the semantics around trust lines so um um yeah I guess this didn't really seem yeah I guess this didn't really seem like an obvious advantage to do so um like an obvious advantage to do so um but maybe there's some implementation but maybe there's some implementation reason to do so

00:18:00.000 --> 00:18:59.999 align:start position:0%
got it and I will mention that there is a non-requirement section in this Doc a non-requirement section in this Doc and uh a later addition to the and uh a later addition to the non-requirements is that opting in to non-requirements is that opting in to hold a stellar asset is not a hard hold a stellar asset is not a hard requirement so today you need to requirement so today you need to explicitly create a trust line in order explicitly create a trust line in order to hold an asset and we are loosening to hold an asset and we are loosening this requirement for the sake of interop this requirement for the sake of interop um right now we haven't gotten any um right now we haven't gotten any um to be honest we haven't had gotten um to be honest we haven't had gotten any qualitative feedback on uh either any qualitative feedback on uh either direction whether this this is really direction whether this this is really good or really bad but we do know that good or really bad but we do know that trust lines have been uh an extreme pain trust lines have been uh an extreme pain in the ass to a lot of us throughout the in the ass to a lot of us throughout the years and we are looking uh for uh for years and we are looking uh for uh for ways around them uh which some of these ways around them uh which some of these proposals include including 2.1 proposals include including 2.1 um and yeah this is uh still an open um and yeah this is uh still an open question but

00:19:00.000 --> 00:19:59.999 align:start position:0%
question but um um we're probably going to loosen that we're probably going to loosen that request um Nico can you uh talk a bit from a technical perspective what are the technical perspective what are the implications for for not having uh trust implications for for not having uh trust lines on contracts and why do you think lines on contracts and why do you think we should have them so yeah like the trust lines when I say trust lines here by the way like I trust lines here by the way like I didn't mean necessarily A didn't mean necessarily A classic dress line it's more of a classic dress line it's more of a standardized format right like a ledger entry or whatever for holding balances that I'm whatever for holding balances that I'm thinking about and this would be thinking about and this would be so that so that um when we think about wallets uh you um when we think about wallets uh you don't have to necessarily don't have to necessarily um um like right now the way you can get a like right now the way you can get a balance for cereban balance for cereban token is token is is by calling the get balance endpoint is by calling the get balance endpoint on the on the token

00:20:00.000 --> 00:20:59.999 align:start position:0%
on the on the token um and there is basically no way to do um and there is basically no way to do something something um efficient like what you like uh like um efficient like what you like uh like a block Explorer Style a block Explorer Style uh you know give me the balance for any uh you know give me the balance for any Ledger entry uh or any account right a Ledger entry uh or any account right a servant account servant account um um so so that what I was thinking is that so so that what I was thinking is that maybe maybe there's room there for for that there's room there for for that um and in particular I was thinking in um and in particular I was thinking in the context of classic uh so classic the context of classic uh so classic assets so existing assets that are being assets so existing assets that are being held by let's say a smart contract held by let's say a smart contract wallet uh so basically Where You Are uh wallet uh so basically Where You Are uh balance is not held behind a stellar balance is not held behind a stellar account but held by a account but held by a by contract that enforces you know by contract that enforces you know policies basically policies basically um like in that world um like in that world uh it's uh it's you you don't have the Horizon you you don't have the Horizon experience basically that you get with a

00:21:00.000 --> 00:21:59.999 align:start position:0%
experience basically that you get with a classic account like a a standard classic account like a a standard account account and that felt a bit and that felt a bit um um like a limiting right from a like a limiting right from a like a efficiency point of view and all like a efficiency point of view and all that I mean I can see that for the that I mean I can see that for the if you get into the generic uh you know if you get into the generic uh you know type of contracts type of contracts um you can do a lot better than calling um you can do a lot better than calling the you know the actual get balance the you know the actual get balance because you know maybe it is actually because you know maybe it is actually some actual code happening there uh but some actual code happening there uh but for those uh type of accounts the for those uh type of accounts the classic uh classic assets right like uh classic uh classic assets right like uh I thought we could actually do something I thought we could actually do something a little bit closer to what you get with a little bit closer to what you get with standard icons if that makes sense standard icons if that makes sense so I think this touches on how so I think this touches on how Downstream systems Downstream systems um handle tokens I think it's still an um handle tokens I think it's still an open question for uh Horizon for example open question for uh Horizon for example how they deal with with tokens how they deal with with tokens um Eric do you see um Eric do you see

00:22:00.000 --> 00:22:59.999 align:start position:0%
um Eric do you see um Horizon actually reporting token um Horizon actually reporting token balances for contracts um like you say I think that is still an open question that we're thinking about open question that we're thinking about there's pros and cons here obviously if there's pros and cons here obviously if we go down this road where assets and we go down this road where assets and tokens become the same thing then you tokens become the same thing then you sort of get a default uh answer to that sort of get a default uh answer to that question question but um but um in theory you can imagine a world where in theory you can imagine a world where there's some kind of standardized token there's some kind of standardized token uh that obeys the interface of of you uh that obeys the interface of of you know the standard contract and we make know the standard contract and we make that available the question that I want that available the question that I want to understand if we're going to go down to understand if we're going to go down that road is what other use cases there that road is what other use cases there and can we solve those problems in other and can we solve those problems in other ways say through uh streaming endpoints ways say through uh streaming endpoints and then fast catch up for history so I and then fast catch up for history so I think we're still trying to understand think we're still trying to understand the use cases and with respect to the use cases and with respect to Horizon in general there's this question Horizon in general there's this question of uh what does horizon solve and for of uh what does horizon solve and for who Horizon is like a Swiss Army

00:23:00.000 --> 00:23:59.999 align:start position:0%
who Horizon is like a Swiss Army chainsaw you can do everything it turns chainsaw you can do everything it turns out that when you actually analyze what out that when you actually analyze what people use Horizon for people use Horizon for uh the vast majority of users are using uh the vast majority of users are using a very small number of endpoints and a very small number of endpoints and also in a relatively recent time period also in a relatively recent time period so we have the possibility to so we have the possibility to differentiate with different products differentiate with different products that can actually map much more cleanly that can actually map much more cleanly to the actual requirements right so to the actual requirements right so that's like part of where we're thinking that's like part of where we're thinking and trying to understand better what uh and trying to understand better what uh will be the best form factor so I don't will be the best form factor so I don't have an immediate answer but it's have an immediate answer but it's definitely something we're actively definitely something we're actively trying to understand more trying to understand more I I love Swiss Army chainsaw I think I I love Swiss Army chainsaw I think that should be the description on the that should be the description on the GitHub repo GitHub repo um so it does seem like if we're um so it does seem like if we're thinking about Downstream systems uh you thinking about Downstream systems uh you know going back to the big discussion of know going back to the big discussion of single balances versus dual balances it single balances versus dual balances it does seem like single balances is the does seem like single balances is the least amount of friction to actually get least amount of friction to actually get Horizon to keep accurately report Horizon to keep accurately report um

00:24:00.000 --> 00:24:59.999 align:start position:0%
um um you know like the classic account um you know like the classic account balances balances yes I would say yes and no yes in the yes I would say yes and no yes in the sense that it uh on the face of it feels sense that it uh on the face of it feels like there will be almost no work like there will be almost no work required it will just automatically required it will just automatically happen happen um the complication is to think about um the complication is to think about whether having it automatically happen whether having it automatically happen is in the end uh a net positive right so is in the end uh a net positive right so to give you one example of a trade-off to give you one example of a trade-off that we have here when Horizon provides that we have here when Horizon provides token balances natively token balances natively um that actually encourages some um that actually encourages some centralization in the ecosystem because centralization in the ecosystem because in practice today most Horizon users in practice today most Horizon users actually use the SDF Horizon instance actually use the SDF Horizon instance um another example is well if we um another example is well if we actually identified the need for tokens actually identified the need for tokens uh we could produce a form factor that's uh we could produce a form factor that's extremely minimal uh that lots of people extremely minimal uh that lots of people could run very cheaply that might could run very cheaply that might actually Aid our decentralization goal actually Aid our decentralization goal so there are some questions around that

00:25:00.000 --> 00:25:59.999 align:start position:0%
so there are some questions around that kind of stuff that you know I would like kind of stuff that you know I would like to put some ideas on the table around to put some ideas on the table around but it is true that I think from our but it is true that I think from our perspective if balance is combined they perspective if balance is combined they would just pop up and appear in Horizon would just pop up and appear in Horizon and I do see a benefit from a usability and I do see a benefit from a usability standpoint it is pretty confusing to standpoint it is pretty confusing to consider them tokens and assets as consider them tokens and assets as separate things separate things uh yeah uh yeah I imagine you'd still have to account I imagine you'd still have to account for trust for transfers that go in and for trust for transfers that go in and out of things that you're not tracking out of things that you're not tracking like contracts like contracts um so yeah that's true um so yeah that's true but that's much more bounded problem but that's much more bounded problem yeah I hear you yeah I hear you um Sid you were talking a bit about um Sid you were talking a bit about um your um your um concerns with adding um concerns with adding um kind of like opt-in semantics to uh um kind of like opt-in semantics to uh contracts and other sorobon entities can contracts and other sorobon entities can you you um tell us a bit about your concerns um tell us a bit about your concerns yeah I mean for example if you know you

00:26:00.000 --> 00:26:59.999 align:start position:0%
yeah I mean for example if you know you have a liquidity pool uh that's going to have a liquidity pool uh that's going to accept that that's going to allow accept that that's going to allow trading uh with like a classic asset trading uh with like a classic asset um so the contract would have to opt in um so the contract would have to opt in right that's friction uh I mean if this right that's friction uh I mean if this it sounds like this it won't be an it sounds like this it won't be an actual trust line which is where some of actual trust line which is where some of my concerns were my concerns were um but yeah I had questions like who um but yeah I had questions like who would own the trust the trust line would own the trust the trust line um and just it adds friction that and um and just it adds friction that and that I don't think is necessary and it's that I don't think is necessary and it's something I talked to Nico briefly about something I talked to Nico briefly about but uh you know if you really wanted the but uh you know if you really wanted the balance of a contract uh or the token balance of a contract uh or the token balances for any for a tone contract you balances for any for a tone contract you could actually look at The Ledger could actually look at The Ledger entries right and maybe this is entries right and maybe this is something we can encourage that that is something we can encourage that that is an option an option right uh like like the structure is right uh like like the structure is pretty well defined at least for the the pretty well defined at least for the the built-in token contract built-in token contract uh uh so I don't like this sounds like so I don't like this sounds like something that we don't need to do it something that we don't need to do it was pretty much what Lee said right like was pretty much what Lee said right like accounts already have trust lines and

00:27:00.000 --> 00:27:59.999 align:start position:0%
accounts already have trust lines and that's where the balances live that's where the balances live uh but a special case the balances for uh but a special case the balances for contracts contracts uh it it doesn't sound like like unless uh it it doesn't sound like like unless we have a really good reason to do it I we have a really good reason to do it I don't see why we would got it um another thing that is an open um another thing that is an open question for uh for single balances is question for uh for single balances is whether or not we make them compatible whether or not we make them compatible with uh classic Stellar operations like with uh classic Stellar operations like for example can I just like make a for example can I just like make a regular payment to a contract regular payment to a contract um this is uh actually in the um this is uh actually in the non-requirements section but it's still non-requirements section but it's still an open implementation detail an open implementation detail um and um and um I was wondering if people here have um I was wondering if people here have any any um um um opinions in the space I mean to me that seems like a pretty good thing to have good thing to have um just because like you can imagine a um just because like you can imagine a situation where maybe there's like I situation where maybe there's like I don't know like some contract or don't know like some contract or something that's so successful that we

00:28:00.000 --> 00:28:59.999 align:start position:0%
something that's so successful that we want to like want to like Implement that functionality in in Implement that functionality in in classic and make it you know super classic and make it you know super efficient or something so the more uh efficient or something so the more uh sort of compatibility you have like like sort of compatibility you have like like the easier that is to do without sort of the easier that is to do without sort of upending things the better so I have I have concerns about that David David um I think one of the concerns is that um I think one of the concerns is that uh like what is the use case like uh like what is the use case like usually when you send funds to a Smart usually when you send funds to a Smart contract you actually want to do contract you actually want to do something on a smart contract side for something on a smart contract side for example you know I don't just like send example you know I don't just like send funds to UNI swap to get a swap I funds to UNI swap to get a swap I actually send funds and I uh facilitate actually send funds and I uh facilitate a swap so just you know just letting the a swap so just you know just letting the classic operations classic operations um send to a contract or a payment sent um send to a contract or a payment sent to a contract doesn't necessarily to a contract doesn't necessarily um save me the need to communicate with um save me the need to communicate with that contract on the soroban side so if

00:29:00.000 --> 00:29:59.999 align:start position:0%
that contract on the soroban side so if it doesn't necessarily save me that much it doesn't necessarily save me that much and if classic operators on the network and if classic operators on the network think exchanges for example think exchanges for example have to uh adapt their currently have to uh adapt their currently supported operations and you know this supported operations and you know this is something that we've had uh a lot of is something that we've had uh a lot of uh pain with dealing with exchanges I'd uh pain with dealing with exchanges I'd support for muxed accounts most of them support for muxed accounts most of them still don't still don't um I think um I think I think that's a like a strong argument I think that's a like a strong argument to to um you know to keep the you know the um you know to keep the you know the smart stuff on the smart side smart stuff on the smart side I don't I I don't think that's I don't I I don't think that's necessarily what uh David was saying necessarily what uh David was saying it's like he like I think the idea is it's like he like I think the idea is more like if you have more like if you have scenarios that are very high value you scenarios that are very high value you don't want to necessarily don't want to necessarily uh have this kind of uh like concretely uh have this kind of uh like concretely uh uh uh like like Frozen

00:30:00.000 --> 00:30:59.999 align:start position:0%
uh like like Frozen um you know like a wall between what is um you know like a wall between what is classic today and and soroban like I classic today and and soroban like I think over time we want to kind of have think over time we want to kind of have some ways to integrate those uh a bit some ways to integrate those uh a bit better better and and and this doesn't necessarily mean like and this doesn't necessarily mean like you have to uh for example you have to uh for example uh use the same data you know like uh use the same data you know like format in you know in behind uh you know format in you know in behind uh you know the the scene but like the the scene but like um you need to kind of think ahead in um you need to kind of think ahead in terms of terms of what type of what type of interactions I want to enable in the interactions I want to enable in the future like for me like the deposit into future like for me like the deposit into a contract a contract uh like in the the shot uh you know like uh like in the the shot uh you know like uh like in the near future I would say uh like in the near future I would say yeah it's for something like an mm no yeah it's for something like an mm no use case right or like those use case right or like those optimizations right away you can think optimizations right away you can think of like maybe it's like an actual of like maybe it's like an actual deposit and do stuff right that we under deposit and do stuff right that we under implementing natively but like I do implementing natively but like I do think that in the short term those type think that in the short term those type of uh depositing into a smart contract of uh depositing into a smart contract is actually useful uh if that smart

00:31:00.000 --> 00:31:59.999 align:start position:0%
is actually useful uh if that smart contract is a wallet so I guess I've heard this brought up a couple times and I like this idea of a couple times and I like this idea of a smart contract wallet and and this is smart contract wallet and and this is kind of the the like concept that kind of the the like concept that concerns me because the whole if the concerns me because the whole if the whole thing that we're debating is whole thing that we're debating is you know single balance versus dual you know single balance versus dual balance and our solution to single balance and our solution to single balance is to keep Stellar Assets in balance is to keep Stellar Assets in Stellar trust lines Stellar trust lines but we could also still have this smart but we could also still have this smart contract wallet that bypasses trust contract wallet that bypasses trust lines and it sounds like we could end up lines and it sounds like we could end up in a world where there are still two in a world where there are still two balances balances um like we could we could end up in a um like we could we could end up in a world where even if we go with the world where even if we go with the single balance approach we end up in a single balance approach we end up in a world where there are dual balances and world where there are dual balances and applications still have to look in two applications still have to look in two different places I'm following like I think what you're saying is because you have to when you

00:32:00.000 --> 00:32:59.999 align:start position:0%
saying is because you have to when you think of like this this the uh think of like this this the uh contractors or what it I think this is contractors or what it I think this is actually something we're discussing actually something we're discussing actually uh in a different context in in actually uh in a different context in in uh in the existing protocol that was we uh in the existing protocol that was we wanted to decouple your identity on the wanted to decouple your identity on the network in in today on the network is network in in today on the network is kind of your master or public key right kind of your master or public key right and often and so in something else you and often and so in something else you you have like you actually have like you have like you actually have like different Keys attached to that thing different Keys attached to that thing and you actually disable your master key and you actually disable your master key um and then your identity is kind of um and then your identity is kind of weird because it's this uh you know weird because it's this uh you know public key that actually doesn't mean public key that actually doesn't mean anything anything um so at some point we were talking um so at some point we were talking about hey maybe we should have accounts about hey maybe we should have accounts like your actual identity is like uh you like your actual identity is like uh you know a hash or something something more know a hash or something something more deterministic and and then you the way deterministic and and then you the way you authorize uh using this account is you authorize uh using this account is actually a separate topic right actually a separate topic right um and I think in soroban you have um and I think in soroban you have actually a similar analogy there where actually a similar analogy there where your identity your account is actually

00:33:00.000 --> 00:33:59.999 align:start position:0%
your identity your account is actually the contract or some maybe like some the contract or some maybe like some other like Alias on top of that but other like Alias on top of that but basically your basically your you have that as an identity as in and you have that as an identity as in and then how you use it right how you then how you use it right how you um withdraw funds or you know platform um withdraw funds or you know platform transactions with that uh with that transactions with that uh with that account is actually the uh managed by account is actually the uh managed by the account so you can have like very the account so you can have like very flexible type of uh policies right flexible type of uh policies right around how the account works that's around how the account works that's that's like uh I don't know if you that's like uh I don't know if you looked at the um looked at the um I mean this is a topic for a different I mean this is a topic for a different day because we are actually been day because we are actually been thinking a lot about authorization right thinking a lot about authorization right like in an authentication like in an authentication um and I don't think we're ready to kind um and I don't think we're ready to kind of discuss this in this meeting but like of discuss this in this meeting but like there are things that are highly there are things that are highly inspired by the type of research in inspired by the type of research in Italian that has been done with the Italian that has been done with the account abstractions and things like account abstractions and things like that that great so I think if I try to summarize great so I think if I try to summarize what Nico is saying there are ways uh if what Nico is saying there are ways uh if users choose to do that there are ways

00:34:00.000 --> 00:34:59.999 align:start position:0%
users choose to do that there are ways in which they can have in which they can have um you know on under the same um you know on under the same um you know signer they can have um you know signer they can have multiple balances whether you have like multiple balances whether you have like multiple accounts with the same signer multiple accounts with the same signer or whether you have multiple smart or whether you have multiple smart wallets with the same signer uh on the wallets with the same signer uh on the on the smart side the question is what on the smart side the question is what is like the what is the default Behavior is like the what is the default Behavior like do we default to two balances uh like do we default to two balances uh like in the Dual balances proposals or like in the Dual balances proposals or do we default to a single balance foreign okay um I I am going to say that we have been um I I am going to say that we have been getting a lot of overwhelming getting a lot of overwhelming um um like the the responses tend to be like the the responses tend to be towards the single balance uh approach towards the single balance uh approach um and so I just want to open it up for um and so I just want to open it up for um you know anyone else who's who's in

00:35:00.000 --> 00:35:59.999 align:start position:0%
um you know anyone else who's who's in the crowd right now I think this is a the crowd right now I think this is a lot of people uh if anyone wants to talk lot of people uh if anyone wants to talk in favor of dual balances foreign okay hang on go I just said hi Kyle here I just have a general question around dual balances general question around dual balances versus single balances is there any so versus single balances is there any so if we think about use cases down the if we think about use cases down the line for sorobon you know either at an line for sorobon you know either at an Enterprise level or a consumer level is Enterprise level or a consumer level is there any reason why the double balance there any reason why the double balance would make more sense would make more sense um to enable um to enable other use cases I just want to ensure other use cases I just want to ensure like as we were discussing this is there like as we were discussing this is there any limitations to use cases dependent any limitations to use cases dependent upon this decision so I I do want to mention that uh if you

00:36:00.000 --> 00:36:59.999 align:start position:0%
so I I do want to mention that uh if you look at the dock uh at the top section look at the dock uh at the top section there's semantics you can create pure there's semantics you can create pure soroban tokens that either adhere to our soroban tokens that either adhere to our standard interface or even adhere to standard interface or even adhere to whatever weird interface you want like whatever weird interface you want like none of this actually prevents you from none of this actually prevents you from doing pure soroban whatever crazy asset doing pure soroban whatever crazy asset you can imagine the the context of this you can imagine the the context of this discussion is for these standard assets discussion is for these standard assets that are issued on the Stellar status that are issued on the Stellar status Stellar assets that are already Stellar assets that are already supported in various exchanges and supported in various exchanges and custody Solutions and wallets uh like custody Solutions and wallets uh like for these assets what capabilities we for these assets what capabilities we have on the soroban side now there are have on the soroban side now there are the Dual balances if you look at the pro the Dual balances if you look at the pro section for dual bounces there are section for dual bounces there are several things there for example you several things there for example you have have um you know you can have a a much bigger um you know you can have a a much bigger your balance because the standard token

00:37:00.000 --> 00:37:59.999 align:start position:0%
your balance because the standard token contracts contracts have an i and and into a 128 integer have an i and and into a 128 integer type instead of the the kind of like the type instead of the the kind of like the sine 64-bit integer that we have in in sine 64-bit integer that we have in in Stellar assets so there are there are Stellar assets so there are there are some like small things there but some like small things there but generally speaking from a capability generally speaking from a capability perspective I don't think we're uh we're perspective I don't think we're uh we're losing anything significant by moving a losing anything significant by moving a single balance thanks for the answer and maybe like something I will add to to this is that one of the like things to this is that one of the like things that that that is actually a big TBD right like we that is actually a big TBD right like we don't know it's in the I think it's in don't know it's in the I think it's in this last section like open issues is this last section like open issues is um by uh um by uh when you move to this single balance when you move to this single balance right like you you you have to support right like you you you have to support some of the clicks that you know from

00:38:00.000 --> 00:38:59.999 align:start position:0%
some of the clicks that you know from the uh uh like um from the the classic the uh uh like um from the the classic tokens like in particular you have like tokens like in particular you have like the the balance question like what is the the balance question like what is the balance of the account because there the balance of the account because there is a difference between the what you is a difference between the what you want to show in the in a UI depending on want to show in the in a UI depending on the scenario right like is it the usable the scenario right like is it the usable balance or is it the your actual net balance or is it the your actual net balance you know accounting for balance you know accounting for liabilities liabilities um so this will actually have um so this will actually have consequences on the um token interface and as a and because of that right like you end up actually that right like you end up actually taking on taking on this type of this type of additional this type of this type of additional requirements for any token that you want requirements for any token that you want to issue on the network even if it to issue on the network even if it doesn't it's not a classic token right doesn't it's not a classic token right so like those other tokens basically so like those other tokens basically need to implement need to implement the uh like if we if we need a concept the uh like if we if we need a concept of liabilities for example like uh they of liabilities for example like uh they need to implement that and maybe they need to implement that and maybe they

00:39:00.000 --> 00:39:59.999 align:start position:0%
need to implement that and maybe they are there are no apps but you still need are there are no apps but you still need to think about that stuff to think about that stuff yeah so to your point Nico I think you yeah so to your point Nico I think you know I think we I commented on the know I think we I commented on the google.com this but the idea of having google.com this but the idea of having like a like a get available balance on like a like a get available balance on the standardized like token contract the standardized like token contract doesn't seem like a huge Legend and like doesn't seem like a huge Legend and like standardized or sorry native tokens on standardized or sorry native tokens on sorbon the value returned from get sorbon the value returned from get balance and get available balance would balance and get available balance would effectively always be the same you know effectively always be the same you know if as long as it's the standard token if as long as it's the standard token contract but contract but um um but I I do agree I think personally but I I do agree I think personally though this is a pretty easy uh though this is a pretty easy uh adjustment that we can make so like you adjustment that we can make so like you you know just having a get available you know just having a get available balance that you know takes away balance that you know takes away liabilities liabilities um from the return value I mean this is one of the ones we know right like we as we go through the you right like we as we go through the you know designing this I think we may find know designing this I think we may find more of this type of stuff like the

00:40:00.000 --> 00:40:59.999 align:start position:0%
more of this type of stuff like the if you want to to write like a safe code if you want to to write like a safe code you know like you need to ensure that you know like you need to ensure that you're not overflowing in different ways you're not overflowing in different ways uh like which is something you don't uh like which is something you don't necessarily need to care about as much necessarily need to care about as much in the uh in the uint uh 120 you know in the uh in the uint uh 120 you know because the interface is even oh in one because the interface is even oh in one uh 28 right uh 28 right um um whereas here the balance is hidden whereas here the balance is hidden as a 64-bit number as a 64-bit number so you have to deal with like a special so you have to deal with like a special you know uh checks and in order to you know uh checks and in order to perform those checks if you don't want perform those checks if you don't want the the payment later to fail the the payment later to fail and you want to kind of pre you know and you want to kind of pre you know like as part of pre-flight I don't know like as part of pre-flight I don't know some other check right that you want to some other check right that you want to to ensure that the payment would work to ensure that the payment would work you need to know what the behavior what you need to know what the behavior what are the safety you know like what are are the safety you know like what are the constraints right on your own on the constraints right on your own on your balance for example maybe I don't your balance for example maybe I don't know like I think this is the type of know like I think this is the type of stuff we'll have to go through

00:41:00.000 --> 00:41:59.999 align:start position:0%
stuff we'll have to go through yeah seriously yeah seriously and I think this is an important con and I think this is an important con that we uh it's in the dark but we that we uh it's in the dark but we haven't discussed today which is uh you haven't discussed today which is uh you actually uh there's this idiosyncrasy actually uh there's this idiosyncrasy where the uh the single balances are in where the uh the single balances are in practice you know when they're in a practice you know when they're in a trust line they're constrained to a trust line they're constrained to a 64-bit integer but the actual interface 64-bit integer but the actual interface the current interface that we're the current interface that we're discussing is uh 128 bit integer so you discussing is uh 128 bit integer so you have these uh failures that are have these uh failures that are unexpected just by unexpected just by um kind of like observing the types uh they're unexpected but it's I think it's important that we recognize that it's important that we recognize that those failures can happen anyway so you those failures can happen anyway so you know if you have a near max 128-bit know if you have a near max 128-bit value in your in your contract data and value in your in your contract data and you try to add a value that's kind of you try to add a value that's kind of overflow you're going to get narrower so overflow you're going to get narrower so this it's not like this is a new error this it's not like this is a new error case it's an existing error case case it's an existing error case um it's just that

00:42:00.000 --> 00:42:59.999 align:start position:0%
um it's just that um if you take if you have a less than um if you take if you have a less than if you have a less than 64-bit value in if you have a less than 64-bit value in there and you add another 64-bit value there and you add another 64-bit value you might assume that that would succeed you might assume that that would succeed one of my fail one of my fail um so I think like that's the exactly like the code the contract code is written you know you write checked is written you know you write checked code basically using 128-bit arithmetic code basically using 128-bit arithmetic but then when you actually if you are but then when you actually if you are actually interacting with those other actually interacting with those other contracts you uh those classic contracts contracts you uh those classic contracts you actually get some other Trader mode you actually get some other Trader mode so your check code is so your check code is no irrelevant basically Lee were you trying to say something yeah I think it's a really good point I yeah I think it's a really good point I I think the more like over time once I think the more like over time once there are custom tokens or like new there are custom tokens or like new forms of tokens forms of tokens um

00:43:00.000 --> 00:43:59.999 align:start position:0%
um they're going to have new failure modes they're going to have new failure modes too so I'm not sure like how like I'm too so I'm not sure like how like I'm not really sure how much contracts not really sure how much contracts should try should try um can make assumptions about that sort um can make assumptions about that sort of thing anyway but of thing anyway but like if we're talking about Stellar like if we're talking about Stellar assets and everything is just a stellar assets and everything is just a stellar asset then I could definitely see people asset then I could definitely see people making those assumptions so yeah that could be bad got it and uh lee after uh got it and uh lee after uh Nico talked a bit about uh why he's Nico talked a bit about uh why he's interested in adding the opt-in interested in adding the opt-in semantics uh even for dual balances even semantics uh even for dual balances even for single balances for single balances um it are you uh persuaded in any way leader muted yeah I I feel like I want to think about it a bit more but I like to think about it a bit more but I like um this second model is um this second model is I think I think the arguments for it are that are the arguments for it are that are

00:44:00.000 --> 00:44:59.999 align:start position:0%
the arguments for it are that are compelling compelling um it's just the the 120 and 128 bit um it's just the the 120 and 128 bit issue is is what gets me got it um okay um okay um um Justin do we have any uh questions from Justin do we have any uh questions from the audience the audience well first of all I think if anyone is well first of all I think if anyone is in the audience and wants to speak you in the audience and wants to speak you can raise your hand and we can bring you can raise your hand and we can bring you onto the stage onto the stage there is actually a fair amount going on there is actually a fair amount going on in in the live chat Channel although a in in the live chat Channel although a lot of it's sort of been answered in one lot of it's sort of been answered in one way or another way or another um either via text in the live Channel um either via text in the live Channel because people are sort of talking because people are sort of talking amongst themselves amongst themselves um um trying to look through to see any that trying to look through to see any that haven't already come up or that haven't haven't already come up or that haven't already been answered already been answered got it so there is one question that I got it so there is one question that I want to uh ask the group about this is want to uh ask the group about this is not actually part of of this specific not actually part of of this specific decision but as we're talking about uh

00:45:00.000 --> 00:45:59.999 align:start position:0%
decision but as we're talking about uh the capabilities of this um you know the capabilities of this um you know this single balances token contract this single balances token contract should we consider you know there are should we consider you know there are two built-in token contracts that we're two built-in token contracts that we're talking about right now one of them is a talking about right now one of them is a pure soroban uh token contact pure soroban uh token contact implementation the other is this rap implementation the other is this rap token contract or single or or just an token contract or single or or just an interface to Classic assets uh which by interface to Classic assets uh which by the way right now is implemented as an the way right now is implemented as an extension of that first contract extension of that first contract should we just ditch should we just ditch um all together the concept of a native um all together the concept of a native soroban only built-in token contract in soroban only built-in token contract in favor of the Stellar asset one or should favor of the Stellar asset one or should we maintain both of these so the argument this is something Nico's brought up before they argument to brought up before they argument to keeping it is that the the Nate the uh keeping it is that the the Nate the uh pyrosauribon contract would be more

00:46:00.000 --> 00:46:59.999 align:start position:0%
pyrosauribon contract would be more performant right you don't have to spin performant right you don't have to spin up a custom laws in VM well yeah a up a custom laws in VM well yeah a separate wise and Via just for the separate wise and Via just for the invocation into that contract but it's invocation into that contract but it's not necessary right because the the not necessary right because the the point of the point of the we only need to make it native we only we only need to make it native we only need to make the classical in Native need to make the classical in Native because you uh so you can run the Import because you uh so you can run the Import and Export and Export um so we could remove it now um so we could remove it now um it's just that anyone has concerns um it's just that anyone has concerns over the performance of the cost of over the performance of the cost of running like the pure sorbine contracts running like the pure sorbine contracts than or this matters than or this matters right but but if you try to think about right but but if you try to think about like the spectrum of contracts that like the spectrum of contracts that might be interested in in the soroban might be interested in in the soroban only built-in implementation only built-in implementation um it's contracts that are not um it's contracts that are not interested in being a stellar asset for interested in being a stellar asset for some weird reason even though Stellar some weird reason even though Stellar assets uh have like you know more you assets uh have like you know more you know ecosystem-wide support so they want know ecosystem-wide support so they want something that is not in the cloud in something that is not in the cloud in the Stellar asset which might be the Stellar asset which might be um you know like i128 instead of i-64s

00:47:00.000 --> 00:47:59.999 align:start position:0%
um you know like i128 instead of i-64s and it might be because they're and it might be because they're interested in a custom decimal uh value interested in a custom decimal uh value that's not seven but but at the end of that's not seven but but at the end of the day besides that like what are they the day besides that like what are they getting like why should they do this yeah they may just not be interested in uh like classic Stellar support right and I like classic Stellar support right and I I can't I don't know how many people I can't I don't know how many people would fall on that category but uh would fall on that category but uh that's one reason right that's one reason right right and and we're not saying that you right and and we're not saying that you can't do it but if we are removing that can't do it but if we are removing that contract then basically it'll be contract then basically it'll be deploying your own contract and it's deploying your own contract and it's less performant less performant the but the question is like is this the but the question is like is this important enough to first class uh lee important enough to first class uh lee uh you unmuted yourself uh you unmuted yourself yeah I feel like yeah I feel like um in the I mean I feel like we always um in the I mean I feel like we always Place some value or importance on Place some value or importance on interoperability and so I think if interoperability and so I think if you're making a token that will will you're making a token that will will interrupt with Stella interrupt with Stella classic assets

00:48:00.000 --> 00:48:59.999 align:start position:0%
classic assets um I think the network can be um I think the network can be opinionated and say well you know if it opinionated and say well you know if it can if it were if it functions like that can if it were if it functions like that it should just show it should just work it should just show it should just work it should just be interoperable it should just be interoperable um um yeah I really don't see the advantage in yeah I really don't see the advantage in saying like saying like in even making that an option right in even making that an option right like we can make it we could make it like we can make it we could make it flexible we can keep it this way so it's flexible we can keep it this way so it's flexible and anybody flexible and anybody um can choose to say no I don't want it um can choose to say no I don't want it to also be available on Stellar but that to also be available on Stellar but that just harms interoperability yeah have completely different functionality where they're incompatible then yeah where they're incompatible then yeah that makes sense you know they're only that makes sense you know they're only going to operate on Soren and they're going to operate on Soren and they're going to have a great time there but join the uh the team here um boots from uh adapt developer um boots from uh adapt developer perspective you probably have the most perspective you probably have the most experience with uh soroban and uh and

00:49:00.000 --> 00:49:59.999 align:start position:0%
experience with uh soroban and uh and the various token contracts uh any any the various token contracts uh any any thoughts thoughts yeah and my thoughts might not be super yeah and my thoughts might not be super cleared out yet but from like a pretty cleared out yet but from like a pretty high level high level I guess my expectations would be that I guess my expectations would be that um if I'm going to be attempting to um if I'm going to be attempting to interact with anything on Stellar interact with anything on Stellar um I would at least expect that um I would at least expect that the way that kind of works to be the way that kind of works to be consistent consistent um and I I think from you know not um and I I think from you know not having thought about this too long yet having thought about this too long yet like option 2.2 kind of speaks the most like option 2.2 kind of speaks the most to me like at the current moment to me like at the current moment and I think the main reason is that and I think the main reason is that keeps the most separation actually which keeps the most separation actually which said I know you disagree with said I know you disagree with um between stellar and sorbon mainly um between stellar and sorbon mainly because if I'm ever going to touch because if I'm ever going to touch anything it's Stellar it's never anything it's Stellar it's never actually going to leave Stellar Classics actually going to leave Stellar Classics control such that it's going to be a control such that it's going to be a trust line or some other trust line or some other um trustline-esque data source that'll um trustline-esque data source that'll live on stellar and if I ever want to live on stellar and if I ever want to interact with something that's sorb interact with something that's sorb unfocused

00:50:00.000 --> 00:50:59.999 align:start position:0%
unfocused um that can just exist and saurabhan by um that can just exist and saurabhan by itself itself and that kind of keeps a clear line and that kind of keeps a clear line between the sand uh there was one between the sand uh there was one comments I made on the dock I mean I comments I made on the dock I mean I think things for users especially will think things for users especially will get really confusing get really confusing um if you're in 2.1 or um or option one um if you're in 2.1 or um or option one with which is either dual balances or I with which is either dual balances or I have some ability to have a balance on have some ability to have a balance on soroban of a stellar classic asset soroban of a stellar classic asset um if we have state expiration that can um if we have state expiration that can get really really weird for users to get really really weird for users to keep track of keep track of um and trying to solve that Earth think um and trying to solve that Earth think through some way that you can present through some way that you can present that and make it clear to users is is that and make it clear to users is is quite confusing quite confusing um and then just says like a little um and then just says like a little second part during during the second part during during the conversation after I I um popped up here conversation after I I um popped up here I don't really see a reason why we can't I don't really see a reason why we can't have two separate token contracts have two separate token contracts uh you know ones that are actually going uh you know ones that are actually going to run and rest and be performant uh one to run and rest and be performant uh one specifically to interact with assets specifically to interact with assets that are on cellular Classics so they'll that are on cellular Classics so they'll be able to manage trust lines in one be able to manage trust lines in one that's just a reference implementation

00:51:00.000 --> 00:51:59.999 align:start position:0%
that's just a reference implementation of of uh a basic quite usable token so we uh a basic quite usable token so we don't don't have 8 000 different reference have 8 000 different reference implementations of an erc20 implementations of an erc20 it seems like both of those could be it seems like both of those could be executed and rested quite easily can I just said something regarding like the native or built-in contract and the native or built-in contract and non-wrapped non-classic tokens so non-wrapped non-classic tokens so basically what we need to Define anyway basically what we need to Define anyway is the interface and uh like there is is the interface and uh like there is really no value in not implementing the really no value in not implementing the non-wrap tokens uh in Russia just non-wrap tokens uh in Russia just because because um like someone would need to do this um like someone would need to do this anyway and there is literally no benefit anyway and there is literally no benefit of not doing so because the interface 2 of not doing so because the interface 2 has to be called right it's not like we has to be called right it's not like we can have two contract two contracts can have two contract two contracts these two different interfaces that uh these two different interfaces that uh you know one would be called classic

00:52:00.000 --> 00:52:59.999 align:start position:0%
you know one would be called classic only tokens in another one is only tokens in another one is now they both have to pull the same now they both have to pull the same interface so they will effectively be interface so they will effectively be the same contract no matter how exactly the same contract no matter how exactly how where exactly has been implemented how where exactly has been implemented so ideally what we should try for is to so ideally what we should try for is to have some standardized token interface have some standardized token interface so that contract Traders could reuse it so that contract Traders could reuse it and you know whether or not there will and you know whether or not there will be like another implementation series I be like another implementation series I don't see any value of not implementing don't see any value of not implementing the the vanilla version that behaves in great vanilla version that behaves in great vote points way uh just means a protocol vote points way uh just means a protocol I don't really see anybody like it I don't really see anybody like it doesn't give us any more freedom than doesn't give us any more freedom than not implemented in the current interface not implemented in the current interface uh does it uh fill this requirement the uh does it uh fill this requirement the current standard interface that we have current standard interface that we have uh sort of uh sort of modular import expert which only it modular import expert which only it makes sense for the classic tokens yeah

00:53:00.000 --> 00:53:59.999 align:start position:0%
makes sense for the classic tokens yeah but yeah of course okay so we are uh pretty close to uh being at time are there any other uh big being at time are there any other uh big questions topics that people want to questions topics that people want to discuss yeah so um uh George was uh mentioning something to me something to me um uh around how payments and transfers um uh around how payments and transfers work um so like payments on Stella and work um so like payments on Stella and something that we haven't really something that we haven't really discussed is okay so if this if there is discussed is okay so if this if there is a single balance or this is even a single balance or this is even relevant okay sorry if this is single relevant okay sorry if this is single balance and someone's doing a transfer balance and someone's doing a transfer um someone might assume that that would um someone might assume that that would show up as a payment operation show up as a payment operation on the Stellar side so you know you on the Stellar side so you know you might look on Horizon and you might be might look on Horizon and you might be expecting to see a payment operation my expecting to see a payment operation my assumption has always been that these assumption has always been that these things wouldn't show up like the the

00:54:00.000 --> 00:54:59.999 align:start position:0%
things wouldn't show up like the the um um it would be much the same as how it would be much the same as how important export works important export works does anyone have any thoughts about how does anyone have any thoughts about how that would work I think and this uh this came up in uh what what Eric was saying like at the what what Eric was saying like at the end of the day uh if you have balances end of the day uh if you have balances changing in Horizon you need to provide changing in Horizon you need to provide um an explanation for why that happens um an explanation for why that happens whether it shows up as like a payment whether it shows up as like a payment operation or it shows up as an effect uh operation or it shows up as an effect uh I think we we can discuss but it needs I think we we can discuss but it needs to show up somehow or else to show up somehow or else um you know like value balances are um you know like value balances are changing with no explanation correct and changing with no explanation correct and I think I think in the past we discussed I think I think in the past we discussed that you know the Import and Export that you know the Import and Export operations would show up as credit and operations would show up as credit and debit effects um and so there would be debit effects um and so there would be visibility in that sense visibility in that sense um I guess um I guess uh uh yeah I'm just curious like is the fact yeah I'm just curious like is the fact that there wouldn't be a payment that there wouldn't be a payment operation operation um going to be like a really big deal or

00:55:00.000 --> 00:55:59.999 align:start position:0%
um going to be like a really big deal or not it sounds like you're saying no but not it sounds like you're saying no but it shouldn't be a problem because this it shouldn't be a problem because this is no different than when you do it when is no different than when you do it when you have like trading right like you you have like trading right like you have a somebody does a path payment or have a somebody does a path payment or whatever and then you know you get whatever and then you know you get you have like those little no micro you have like those little no micro payments happening in between right payments happening in between right uh well your balance changes so it's uh well your balance changes so it's just a standout effect not a payment but just a standout effect not a payment but uh uh just an effect yeah yeah I agree just an effect yeah yeah I agree thank you thank you but yeah to clarify though this would be but yeah to clarify though this would be only for uh yeah classic tokens we would only for uh yeah classic tokens we would not do like this type of stuff for like not do like this type of stuff for like arbitrary tokens on the network by arbitrary tokens on the network by default default because that's the Horizon question that because that's the Horizon question that I think uh every cut earlier that you I think uh every cut earlier that you don't want to pull like arbitrary tokens don't want to pull like arbitrary tokens uh you know into Horizon uh because then uh you know into Horizon uh because then the data model is becomes extremely the data model is becomes extremely complicated okay I see that we're really almost out of time I just want to say uh I know

00:56:00.000 --> 00:56:59.999 align:start position:0%
of time I just want to say uh I know that there's someone with their hand that there's someone with their hand raised and I know that there's a couple raised and I know that there's a couple questions in live chat and we will try questions in live chat and we will try to get to those um after this call but to get to those um after this call but since we're almost out of time I'll give since we're almost out of time I'll give it back to Tomer it back to Tomer thanks Justin so um I think thanks Justin so um I think um you know all the responses have been um you know all the responses have been positive towards single balances I think positive towards single balances I think this is something that we need to try this is something that we need to try and uh prototype and or put a cap around and uh prototype and or put a cap around there are still open questions uh the there are still open questions uh the the question around opt-in semantics is the question around opt-in semantics is uh is a big one and it also depends on uh is a big one and it also depends on some feedback from more ecosystem some feedback from more ecosystem members and and partners and members and and partners and um uh and you know just giving us some um uh and you know just giving us some time to wrap our heads around uh but I time to wrap our heads around uh but I think there is overwhelming support for think there is overwhelming support for single balances and we are going to try single balances and we are going to try and pursue these uh thank you all and have a great rest of your day
