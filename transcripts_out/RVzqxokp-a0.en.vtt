WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:59.999 align:start position:0%
welcome everyone uh we're trying out something new by holding the stellar something new by holding the stellar protocol meeting here on the stellar protocol meeting here on the stellar stage in the stellar dev discord um stage in the stellar dev discord um we've been experimenting a bit with we've been experimenting a bit with platforms the goal is to try to have platforms the goal is to try to have these meetings in public so that people these meetings in public so that people can see what's going on and can ask can see what's going on and can ask questions and can understand uh the questions and can understand uh the thought process behind changes to the thought process behind changes to the stellar protocol um but we also want to stellar protocol um but we also want to make sure that the platform is not buggy make sure that the platform is not buggy that it works that it's easy to that it works that it's easy to reproduce the meetings um and it's that reproduce the meetings um and it's that it's easy to attend them and so we're it's easy to attend them and so we're hoping that this works um we've tried a hoping that this works um we've tried a few different things if this doesn't few different things if this doesn't work we'll keep trying things until we work we'll keep trying things until we get the right get the right fit fit but we'll see what happens today so uh but we'll see what happens today so uh bear with us bear with us um i will say that these meetings the um i will say that these meetings the stellar protocol meetings are designed stellar protocol meetings are designed so that we can discuss upcoming changes so that we can discuss upcoming changes to upcoming versions of the stellar to upcoming versions of the stellar protocol in order to advance the protocol in order to advance the protocol to meet ecosystem needs so a protocol to meet ecosystem needs so a lot of the times what we discuss are lot of the times what we discuss are caps core advancement proposals and this

00:01:00.000 --> 00:01:59.999 align:start position:0%
caps core advancement proposals and this is where sort of new features that we're is where sort of new features that we're going to add to stellar are big changes going to add to stellar are big changes to the stellar protocol uh start right to the stellar protocol uh start right and they are essentially technical specs and they are essentially technical specs that outline changes that we plan to that outline changes that we plan to make to the stellar protocol and um make to the stellar protocol and um anyone can read these caps they're in a anyone can read these caps they're in a public github repo the discussion for public github repo the discussion for these caps happens on a public mailing these caps happens on a public mailing list and some of them also here in the list and some of them also here in the stellar dev discord again if anyone is stellar dev discord again if anyone is interested in this process or in interested in this process or in understanding the caps um or in leaving understanding the caps um or in leaving feedback about them or asking questions feedback about them or asking questions we encourage you to do so and in fact if we encourage you to do so and in fact if you're going to follow along with this you're going to follow along with this meeting it's a very technical meeting so meeting it's a very technical meeting so i would suggest taking a look at the i would suggest taking a look at the caps caps in question in question at the moment we're focused on project at the moment we're focused on project jump cannon which will bring smart jump cannon which will bring smart contracts to stellar and there are contracts to stellar and there are actually we've sort of modularized our actually we've sort of modularized our approach to this we're taking different approach to this we're taking different segments segments of the engineering work that needs to be of the engineering work that needs to be done to make changes to the protocol to done to make changes to the protocol to allow for smart contracts and created a allow for smart contracts and created a series of caps each of which sort of

00:02:00.000 --> 00:02:59.999 align:start position:0%
series of caps each of which sort of addresses a specific portion of that addresses a specific portion of that work and so at the moment there are work and so at the moment there are actually five caps that relate to smart actually five caps that relate to smart contracts contracts we have 46 47 48 49 and now 50. we have 46 47 48 49 and now 50. and over the past week there have been and over the past week there have been some changes to cap 46 and 47 some changes to cap 46 and 47 and cap 50 is a new cap um today we're and cap 50 is a new cap um today we're going to start to continue the going to start to continue the discussion about these things and um discussion about these things and um you know as part of that we we certainly you know as part of that we we certainly again encourage you to take a look at again encourage you to take a look at the caps encourage you to take a look at the caps encourage you to take a look at the mailing list and we in these the mailing list and we in these meetings try to address some some meetings try to address some some questions synchronously that are questions synchronously that are important to discuss together but a lot important to discuss together but a lot of the work also happens asynchronously of the work also happens asynchronously so i encourage everyone to follow along so i encourage everyone to follow along with that and so today um with that and so today um it's a fairly open-ended meeting um it's a fairly open-ended meeting um and i think and i think i i don't know i i'm not even sure the i i don't know i i'm not even sure the exact best place to start i know that exact best place to start i know that there may be some stuff to discuss on

00:03:00.000 --> 00:03:59.999 align:start position:0%
there may be some stuff to discuss on cap 47 cap 47 i don't know if we're ready to discuss i don't know if we're ready to discuss cap 50 yet or if we still have open cap 50 yet or if we still have open questions about cap 48 and cap 49 questions about cap 48 and cap 49 um um so i guess the the first question i have i guess lee is not here i know that there were a few questions about cap 46 there were a few questions about cap 46 but it looks like sid you may have but it looks like sid you may have addressed those questions addressed those questions um maybe we can get a quick review by john over cap 50 and the latest changes made over cap 50 and the latest changes made there there perfect thank you let's do that perfect thank you let's do that done done great great um we can open up there although i do um we can open up there although i do think we probably should go back and think we probably should go back and talk about 47 what's in earth later i talk about 47 what's in earth later i don't think we've actually spoken about don't think we've actually spoken about it much in any of these meetings but it much in any of these meetings but let's let's start with some overview of let's let's start with some overview of what's going on on 50. what's going on on 50. so cap 50 is uh if you saw the the first so cap 50 is uh if you saw the the first draft that came out i don't know about a draft that came out i don't know about a week ago week ago uh maybe a little more than a week ago uh maybe a little more than a week ago it was really focused on just like um

00:04:00.000 --> 00:04:59.999 align:start position:0%
it was really focused on just like um the question of like what does it mean the question of like what does it mean to sign smart contract transactions on to sign smart contract transactions on stellar stellar the scope of it over the course of the the scope of it over the course of the week as i thought about it and talk to week as i thought about it and talk to people a lot of people a lot of times people a lot of people a lot of times really change from just like what does really change from just like what does it mean to sign but more of what does it it mean to sign but more of what does it mean to do and what is the ownership mean to do and what is the ownership model that model that we think should be like the default we think should be like the default basically basically of owning it like basically like what of owning it like basically like what does it mean to take an account uh take does it mean to take an account uh take an action where your action affects some an action where your action affects some assets that you probably own and so basically like uh in terms of what's in cap 50 and what uh in terms of what's in cap 50 and what has changed in the most recent uh has changed in the most recent uh edition edition basically it opens up with um basically it opens up with um with uh let me actually look at it while with uh let me actually look at it while i'm talking about it i'm talking about it it opens up with some comparisons it opens up with some comparisons against like against like why the model that is used in ethereum why the model that is used in ethereum is really effective the model being is really effective the model being basically like basically like you can take actions in general for you can take actions in general for message.sender in ethereum

00:05:00.000 --> 00:05:59.999 align:start position:0%
message.sender in ethereum uh uh there are some exceptions you know where there are some exceptions you know where you use signed messages and stuff but you use signed messages and stuff but you know prc-20 tokens for example kind you know prc-20 tokens for example kind of a bedrock aspect of ethereum of a bedrock aspect of ethereum are based on this notion of like if are based on this notion of like if you're a message.sender you control the you're a message.sender you control the assets and you can do whatever you want assets and you can do whatever you want if you need to delegate that control you if you need to delegate that control you use transfer from which works via an use transfer from which works via an approval message where first you were approval message where first you were message.sender to commit that approval message.sender to commit that approval so this is the same kind of model that i so this is the same kind of model that i then propagate to stellar then propagate to stellar and so we introduce some new types of and so we introduce some new types of transactions basically transactions basically which i'm talking about here is like an which i'm talking about here is like an invoke contract transaction invoke contract transaction uh this transaction starts off looking uh this transaction starts off looking just like a classic seller transaction just like a classic seller transaction source account sequence number fee all source account sequence number fee all the stuff you're expecting to see the stuff you're expecting to see then the next set of parameters are then the next set of parameters are basically like basically like what contract do you want to interact what contract do you want to interact with what symbol are you looking up what with what symbol are you looking up what parameters are you going to pass that parameters are you going to pass that function that corresponds to that symbol function that corresponds to that symbol if it exists if it exists and then a read write set which i don't and then a read write set which i don't talk about at all and has nothing to do

00:06:00.000 --> 00:06:59.999 align:start position:0%
talk about at all and has nothing to do with this cap and it's really more to do with this cap and it's really more to do with cat 46 i'm not going to talk about with cat 46 i'm not going to talk about it it then the next thing that introduces like then the next thing that introduces like okay well like who is running this okay well like who is running this transaction like when i ask who is transaction like when i ask who is message.sender or the terms i'm using is message.sender or the terms i'm using is like this get invoker function like this get invoker function uh host function uh host function what is it going to return when i run what is it going to return when i run that contract that contract and so basically there's a new signature and so basically there's a new signature slot that basically identifies that slot that basically identifies that uh that person that key uh that person that key um um and then there's one more layer outside and then there's one more layer outside of that which has your normal stellar of that which has your normal stellar decorated signatures decorated signatures and there's a ton of justification about and there's a ton of justification about like why that's a good model like why that's a good model uh uh why certain things are done like this why certain things are done like this like why do you have this like three like why do you have this like three deep nesting of structure and all this deep nesting of structure and all this other stuff why shouldn't you you know other stuff why shouldn't you you know just do signature verification in every just do signature verification in every contract why shouldn't you do replay contract why shouldn't you do replay perfect prevention every contract all perfect prevention every contract all the stuff kind of ties into it but the stuff kind of ties into it but um um that's kind of what's in here

00:07:00.000 --> 00:07:59.999 align:start position:0%
so john one thing that strikes me here is that it's a fundamental shift from is that it's a fundamental shift from the stellar the current stellar account the stellar the current stellar account model model in the sense that in the sense that um you know it doesn't have um you know it doesn't have the all the kind of like the high level the all the kind of like the high level uh stuff that you get in a stellar uh stuff that you get in a stellar account it really boils down to like a account it really boils down to like a single signer account right single signer account right yeah exactly and i think there's like a lot of merit to this model um to this model um mostly because like mostly because like one of the things you get from like one of the things you get from like having a stellar account is this like having a stellar account is this like ability to have multiple signers ability to have multiple signers but like in reality we use like 80 25 but like in reality we use like 80 25 519 and you can do a threshold scheme 519 and you can do a threshold scheme for that anyway so like for that anyway so like you can just sign with a signal signal a you can just sign with a signal signal a single signature on chain single signature on chain that is like produced to be a that is like produced to be a multi-party communication multi-party communication multi-party computation off chain multi-party computation off chain get a lot of the same results as you get a lot of the same results as you know having an account with multiple know having an account with multiple signers

00:08:00.000 --> 00:08:59.999 align:start position:0%
signers uh the other things that are on the uh the other things that are on the account account uh uh there is like when you're running there is like when you're running a smart contract you don't have access a smart contract you don't have access the way that i'm proposing that we've the way that i'm proposing that we've been talking about things right now you been talking about things right now you don't really have access to like your don't really have access to like your native balance your native trust line native balance your native trust line directly directly uh so there's no need to have an account uh so there's no need to have an account to store that balance instead you would to store that balance instead you would potentially do like a cat 49 wrapped xlm potentially do like a cat 49 wrapped xlm type of thing type of thing um um you don't you don't like you can use a different account like you can use a different account sequence number you don't need like if sequence number you don't need like if you want to have a sequence number you you want to have a sequence number you uh with the same key you can but you uh with the same key you can but you don't need to so don't need to so basically this is just like a strictly basically this is just like a strictly more flexible model that's going to be more flexible model that's going to be more efficient on chain because more efficient on chain because everything boils down to a single everything boils down to a single signature signature that's my stance at least that's my stance at least yeah it's worth mentioning that even if yeah it's worth mentioning that even if you use threshold signatures if you want you use threshold signatures if you want to rotate keys you still need to modify to rotate keys you still need to modify the the key which is basically not an the the key which is basically not an option here uh

00:09:00.000 --> 00:09:59.999 align:start position:0%
uh that is that is sort of true sort of true there are two ways you could do there are two ways you could do threshold signatures i'm like not an threshold signatures i'm like not an expert on photography but like expert on photography but like if you want to rotate the underlying key if you want to rotate the underlying key like for example if you're like like for example if you're like underlying secret key was compromised underlying secret key was compromised then yeah then yeah you definitely don't have that option you definitely don't have that option here but if you just want to rotate the here but if you just want to rotate the key shares key shares that's actually possible in a re-deal in that's actually possible in a re-deal in like a in a threshold system that like a in a threshold system that supports redealing supports redealing so so it depends what what level of security it depends what what level of security you're looking for here you're looking for here interesting and what's the relationship interesting and what's the relationship between between the the classic stellar accounts and these new classic stellar accounts and these new jump cannon accounts jump cannon accounts none whatsoever none whatsoever like like you might have an account that's like you might have an account that's like gabc gabc uh and you know you might want to sign uh and you know you might want to sign for for you know your smart contract you know your smart contract interactions as like gtomer interactions as like gtomer assuming that you actually had the

00:10:00.000 --> 00:10:59.999 align:start position:0%
assuming that you actually had the secret key for that secret key for that um um vanity um vanity um basically like basically like in terms of running like in terms of in terms of running like in terms of becoming the invoker the message.sender becoming the invoker the message.sender you don't need a seller account to exist you don't need a seller account to exist for that purpose for that purpose it it's totally completely logically it it's totally completely logically separate i guess as long as you control separate i guess as long as you control the key you can become message.sender the key you can become message.sender i think the distinction is not the jump i think the distinction is not the jump cannon there are jump cannon accounts cannon there are jump cannon accounts and there are stellar accounts i think and there are stellar accounts i think the distinction is that there are the distinction is that there are stellar accounts and john cannon doesn't stellar accounts and john cannon doesn't actually have accounts jump cannon just actually have accounts jump cannon just has has signers or signatures signers or signatures that's a really good way of putting it that's a really good way of putting it lee well you you still have a concept of an you you still have a concept of an account on account on on the jumpcat side but it's more of an on the jumpcat side but it's more of an like it's like an emergent behavior like it's like an emergent behavior thing right it's like the sum of thing right it's like the sum of everything that this signer everything that this signer um you know owns in different contracts

00:11:00.000 --> 00:11:59.999 align:start position:0%
um you know owns in different contracts becomes the account it's like an becomes the account it's like an abstracted uh yeah i mean you you couldn't describe it like that like that um um but i think there's no physical but i think there's no physical representation representation yeah i think there's like what the yeah i think there's like what the protocol defines um and the protocol protocol defines um and the protocol doesn't actually define an account doesn't actually define an account in the encounter in the cap50 proposal in the encounter in the cap50 proposal so i mean the ecosystem so i mean the ecosystem and tooling can all refer to these and tooling can all refer to these things as account they can treat them things as account they can treat them like accounts they can display them in like accounts they can display them in that way but the protocol doesn't that way but the protocol doesn't actually actually enforce that enforce that like it does today like it does today in principle if everybody hated this get in principle if everybody hated this get invoker mechanism even though it's like invoker mechanism even though it's like very it's exactly parallel to the very it's exactly parallel to the message.sender message.sender mechanism in ethereum but suppose that mechanism in ethereum but suppose that everybody in the stellar ecosystem everybody in the stellar ecosystem totally hated it totally hated it uh the proposal actually described so uh the proposal actually described so you could just completely ignore it and you could just completely ignore it and like everything would work because uh oh like everything would work because uh oh that's actually that's one thing i that's actually that's one thing i should point out compared to the earlier should point out compared to the earlier

00:12:00.000 --> 00:12:59.999 align:start position:0%
should point out compared to the earlier version that you and i have discussed version that you and i have discussed tomer this version actually makes the tomer this version actually makes the invoker signature optional invoker signature optional um which was something that came up when um which was something that came up when i was talking to nico i was talking to nico about like there are lots of times when about like there are lots of times when you just like you just like don't need an invoker signature like the don't need an invoker signature like the contract will never ask who the invoker contract will never ask who the invoker is is uh because it's not relevant and the uh because it's not relevant and the invoker's saying friends in ed25519 invoker's saying friends in ed25519 where you need to reveal the key also where you need to reveal the key also ends up being like 96 bytes ends up being like 96 bytes and you just like y sign with some and you just like y sign with some random key for no reason you could just random key for no reason you could just do nothing so if people don't like this do nothing so if people don't like this mechanism ignore it i'm still trying to wrap my head around the interaction between like from the the interaction between like from the user perspective user perspective you know they have like a an account on you know they have like a an account on the stellar side the stellar side um um and like what happens when they move you

00:13:00.000 --> 00:13:59.999 align:start position:0%
and like what happens when they move you know let's say we're in the world of cap know let's say we're in the world of cap 49 not that i'm suggesting we should do 49 not that i'm suggesting we should do that let's say we're there and i move an that let's say we're there and i move an asset to the smart side asset to the smart side um and let's say that my my classic side um and let's say that my my classic side has uh some sort of like multi-sig has uh some sort of like multi-sig baked uh multi-sig scheme baked uh multi-sig scheme like what would be like the the the like what would be like the the the behavior here the expected behavior behavior here the expected behavior that's a really good question i think it that's a really good question i think it um um it depends on what the wallet kind of it depends on what the wallet kind of wants to do wants to do for me the kind of same thing to do for me the kind of same thing to do would basically be to let's say this is would basically be to let's say this is the first time you're interacting with the first time you're interacting with smart the wallet generates a new key for smart the wallet generates a new key for you or it asks you if you want to use you or it asks you if you want to use some key that you have some key that you have um um but probably it should just generate a but probably it should just generate a new key for you new key for you and then like uh somewhere in this and then like uh somewhere in this proposal proposal uh there's like a lot of stuff here now uh there's like a lot of stuff here now uh in the like uh in the like compatible with cap 49 section wrap compatible with cap 49 section wrap um um it basically what you end up doing is

00:14:00.000 --> 00:14:59.999 align:start position:0%
it basically what you end up doing is you end up signing with the whole you end up signing with the whole multi-sig configuration on classic that multi-sig configuration on classic that you need you need you run this rap and it'll be at the you run this rap and it'll be at the medium threshold i should say you run medium threshold i should say you run this wrap operation this wrap operation it wraps it up into a smart asset in the it wraps it up into a smart asset in the cap 49 cents cap 49 cents and it sends it to that address whatever and it sends it to that address whatever address you specify now that's the address you specify now that's the address that owns it on the smart site address that owns it on the smart site so i'm expected to migrate to so i'm expected to migrate to a new a new account id account id if you don't have multisig setup you if you don't have multisig setup you don't need to don't need to um um if you do have multi-sig setup and you like you uniquely control the key you don't need to don't need to like for example like imagine that i like for example like imagine that i have like you know three hardware have like you know three hardware wallets wallets um and i need two out of three of them um and i need two out of three of them to sign to do anything on my account to sign to do anything on my account well it's perfectly fine for me to do well it's perfectly fine for me to do the public for me to use the master key the public for me to use the master key uh i'm the only one who knows it

00:15:00.000 --> 00:15:59.999 align:start position:0%
uh i'm the only one who knows it but like if i'm not the only one who but like if i'm not the only one who knows the master key then that's not knows the master key then that's not going to work going to work so it really depends a lot on the so it really depends a lot on the configuration of your account but you configuration of your account but you should propose should propose address is going to be the same no address is going to be the same no do we propose a new stir key for the do we propose a new stir key for the jumpcat inside for these account ids i don't know uh that's a good question homer uh that's a good question homer uh they're uh they're maybe maybe we should yeah maybe maybe we should yeah i mean you will need i mean you will need yeah you will need that anyways for yeah yeah you will need that anyways for yeah if you want to deposit into contracts so i think the like the dangerous thing here is that i have an account on the here is that i have an account on the classic side it's a it's a account classic side it's a it's a account it's a multi-sig and let's say that the it's a multi-sig and let's say that the the master signer is is uh nullified the master signer is is uh nullified and now i ask someone to send over an and now i ask someone to send over an asset on the smart side asset on the smart side they use that

00:16:00.000 --> 00:16:59.999 align:start position:0%
they use that uh like the public account id uh like the public account id and now and now i don't have that and so i'm screwed i don't have that and so i'm screwed indeed if that happens you are indeed if that happens you are completely screwed sounds like a pretty big footcon i mean in general on smart and this is like this is not unique to and this is like this is not unique to stellar this is like true on ethereum stellar this is like true on ethereum with the rc20s too if you send money to with the rc20s too if you send money to the wrong address the wrong address bye bye money bye bye money like it's not like seller where we're like it's not like seller where we're just like oh that account doesn't exist just like oh that account doesn't exist sorry sorry um yeah but if the wrong address is the right address and it's on classic that's right address and it's on classic that's that's problematic that's problematic yeah that's that's the big problem the yeah that's that's the big problem the fact that they're like two domains and fact that they're like two domains and you have like these addresses that are you have like these addresses that are valid in both domains but actually mean valid in both domains but actually mean different things that's that's like a different things that's that's like a a huge foot gun uh so i do think a huge foot gun uh so i do think if we're going down this route i would

00:17:00.000 --> 00:17:59.999 align:start position:0%
if we're going down this route i would definitely say that we need a new definitely say that we need a new sturkey for accounts on sturkey for accounts on john cannon well and or a new way a new new type of new type of account on classic right the people account on classic right the people should create deterministic accounts on should create deterministic accounts on classic that don't have a master signer classic that don't have a master signer so you can't accidentally use the master so you can't accidentally use the master signer signer but yeah having a different circuit i but yeah having a different circuit i guess would guess would would mostly do the same thing would mostly do the same thing huh that's actually not a terrible idea it just seems kind of wasteful to me to require a classic manifestation require a classic manifestation of an account to do stuff on smart of an account to do stuff on smart there's there's actually no dependence there's there's actually no dependence on that thing having any physical on that thing having any physical manifestation so like requiring it to manifestation so like requiring it to come from a deterministic account just come from a deterministic account just seems like seems like super unnecessarily fast like a lot of super unnecessarily fast like a lot of them you know i'm just saying then you them you know i'm just saying then you can't interpret a deterministic account

00:18:00.000 --> 00:18:59.999 align:start position:0%
can't interpret a deterministic account as a um as a um you know because like a deterministic you know because like a deterministic account would have a difference turkey account would have a difference turkey right and so people kind of moved over right and so people kind of moved over to that i mean i guess the question is to that i mean i guess the question is is the plan to kind of like completely is the plan to kind of like completely junk classic uh and get ready for is is junk classic uh and get ready for is is a plan that like a plan that like you know classic will form the basis of you know classic will form the basis of like a super low cost like high like a super low cost like high performance decks and payment network performance decks and payment network right so in the latter case right so in the latter case it seems worth it to like say that it seems worth it to like say that because these smart contracts are because these smart contracts are designed to interoperate with classic we designed to interoperate with classic we should like make use of the should like make use of the you know this author did the we should you know this author did the we should have like a single have like a single sign-on if you will for both sign-on if you will for both sides of the network but if the plan is sides of the network but if the plan is eventually eventually to deprecate classic then maybe it makes to deprecate classic then maybe it makes sense not to have single sign-on sense not to have single sign-on i mean like single sign-on is a myth no i mean like single sign-on is a myth no matter what in the world of smart matter what in the world of smart contracts what if i just build a smart contracts what if i just build a smart contract that doesn't use the same contract that doesn't use the same scheme like what if i wrote a smart scheme like what if i wrote a smart contract that actually just does

00:19:00.000 --> 00:19:59.999 align:start position:0%
contract that actually just does the same thing the same thing as the current get invoker scheme you as the current get invoker scheme you know it does it by you know you submit a know it does it by you know you submit a single signature i validate that single signature i validate that signature and that's that yeah i mean signature and that's that yeah i mean you know of course you can you can you know of course you can you can implement crypto schemes that aren't implement crypto schemes that aren't even supported in classic or whatever even supported in classic or whatever you can do anything it's a smart you can do anything it's a smart contract well the question is what are contract well the question is what are we going to make like super easy and we going to make like super easy and what are the idioms that we're going to what are the idioms that we're going to um kind of train our our developers to um kind of train our our developers to use effectively use effectively yeah john i i definitely agree with with yeah john i i definitely agree with with david here because david here because if you look at both cap 50 and cap 49 if you look at both cap 50 and cap 49 there is there is um you know they kind of imply um you know they kind of imply that you know we expect everything to that you know we expect everything to kind of like move to kind of like move to the smart side um in reality if we want the smart side um in reality if we want them to coexist them to coexist then you know cap 49 cap 50 are i would then you know cap 49 cap 50 are i would say say simple from a protocol perspective simple from a protocol perspective but they introduce but they introduce downstream complexities across the

00:20:00.000 --> 00:20:59.999 align:start position:0%
downstream complexities across the ecosystem of having you know two types ecosystem of having you know two types of accounts and two types of uh of accounts and two types of uh of balances of balances so the question is so the question is uh you know does it actually make sense uh you know does it actually make sense if we do think that they'll coexist you if we do think that they'll coexist you know what david proposes like for like know what david proposes like for like having this like having this like another new account that you can migrate another new account that you can migrate to to it's a minimal it's a different type of it's a minimal it's a different type of account it's a minimal it's a single account it's a minimal it's a single signer account but it actually has signer account but it actually has representation on both sides representation on both sides uh uh that might be that might be um you know something that that's worth um you know something that that's worth considering if we expect classic and considering if we expect classic and jump cannon to coexist jump cannon to coexist yeah i actually just want to jump on yeah i actually just want to jump on that and just just emphasize this you that and just just emphasize this you know that two sets of keys like two sets know that two sets of keys like two sets of accounts um i think we have to of accounts um i think we have to evaluate this in the context of the goal evaluate this in the context of the goal of of um um equitable access equitable access so this is a like so this is a like all of this complexity for users all of this complexity for users is maybe easy for someone who is is maybe easy for someone who is

00:21:00.000 --> 00:21:59.999 align:start position:0%
is maybe easy for someone who is immersed in the crypto immersed in the crypto um like in the blockchain space um like in the blockchain space um but um but for for your average user who is an for for your average user who is an immersed in in blockchain technology immersed in in blockchain technology um that's a pretty high bar um that's a pretty high bar um of complexity to to navigate yeah and it's not it's not just the absolute complexity but kind of the the absolute complexity but kind of the the shape of the curve leading there like in shape of the curve leading there like in an ideal world the sort of the the um an ideal world the sort of the the um expert there's kind of a smooth line of expert there's kind of a smooth line of like the amount of expressivity you gain like the amount of expressivity you gain versus like your expertise right and so versus like your expertise right and so like if you start just using classic and like if you start just using classic and you want to write your first smart you want to write your first smart contract it's actually there's like a contract it's actually there's like a relatively gentle on-ramp to get uh get relatively gentle on-ramp to get uh get you you doing that right versus okay now create doing that right versus okay now create a new account type and whatever and i a new account type and whatever and i don't know what i don't understand is david's proposal doesn't eliminate the need for

00:22:00.000 --> 00:22:59.999 align:start position:0%
proposal doesn't eliminate the need for having having two sets of keys two sets of keys like you just end up with like okay like like you just end up with like okay like now i have a classic account a normal now i have a classic account a normal one a g account i'll call it one a g account i'll call it um in the in the terminology we're using um in the in the terminology we're using an eternity ago when we were talking an eternity ago when we were talking about deterministic accounts about deterministic accounts and now i'm going to create another and now i'm going to create another account that's a d account that has a account that's a d account that has a different key different key and i'm right back where i was and i'm right back where i was so i don't know so i don't know my interpretation of david's uh proposal my interpretation of david's uh proposal is not is not uh to maintain these in parallel but you uh to maintain these in parallel but you know you get an option to migrate to know you get an option to migrate to this new account type you know the this new account type you know the account this d account account this d account is a single signer account that's valid is a single signer account that's valid on both sides on both sides and from that point on the user uh the and from that point on the user uh the user doesn't actually interact with with user doesn't actually interact with with the g account anymore like they they the g account anymore like they they have like this one time migration and presumably new accounts are this d type but by the way i don't actually type but by the way i don't actually think this is necessarily better right think this is necessarily better right like i think that like i think that our our you know maybe the concept of uh you know maybe the concept of uh just like you know account authority uh

00:23:00.000 --> 00:23:59.999 align:start position:0%
just like you know account authority uh is is something that is is something that makes makes sense to just kind of expose in the sense to just kind of expose in the smart contract world right and say like smart contract world right and say like well these aren't smart contracts and well these aren't smart contracts and avoid their smart contracts intended to avoid their smart contracts intended to interoperate with uh the legacy uh interoperate with uh the legacy uh [Music] [Music] stellar accounts and so to just kind of stellar accounts and so to just kind of like like expose that expose that the way the way you know we expose single sign-on across you know we expose single sign-on across multiple services is is a useful thing is there is there like um again what's the driving force for um again what's the driving force for like why we can't have this key like why we can't have this key signature be the decorator signatures we signature be the decorator signatures we have today have today and and instead of instead of uh having the source account be uh having the source account be message.sender so like the account the message.sender so like the account the classic account id classic account id being message.sender which means being message.sender which means contracts still are only dealing with a contracts still are only dealing with a single single identifier like you know they're dealing identifier like you know they're dealing with

00:24:00.000 --> 00:24:59.999 align:start position:0%
with account id or contract id as the message account id or contract id as the message message.sender message.sender and then the protocol just hiding the and then the protocol just hiding the fact that fact that you know for the most of the time that's you know for the most of the time that's going to be the master key going to be the master key but sometimes there might be a but sometimes there might be a multi-seek key but contracts don't multi-seek key but contracts don't actually get exposed to that so from the actually get exposed to that so from the contract from the jump cannon side it's contract from the jump cannon side it's the same experience the same experience um it's an account id um it's an account id or it's a contract id and that's it or it's a contract id and that's it um and uh like i think um and uh like i think if i understand correctly the thing we if i understand correctly the thing we were going for with key signatures is were going for with key signatures is that accounts don't have to exist that accounts don't have to exist and then we just say that and then we just say that an account id doesn't have to actually an account id doesn't have to actually exist on the classic side for it to be exist on the classic side for it to be usable on the usable on the well i guess it does doesn't it okay well i guess it does doesn't it okay sorry sorry no it doesn't like it's this it's no it doesn't like it's this it's actually the same in classic right like actually the same in classic right like you you don't have the account doesn't you you don't have the account doesn't need to exist to use it need to exist to use it like you you can if it's a single like you you can if it's a single uh key uh key like you know like you can always like you know like you can always reference it and use it in different reference it and use it in different schemes like you know as a signer for

00:25:00.000 --> 00:25:59.999 align:start position:0%
schemes like you know as a signer for example it's just a key so i'd intended to write about this before this meeting today there wasn't before this meeting today there wasn't enough time it's on my list of things to enough time it's on my list of things to talk about like why it should work this talk about like why it should work this way and not be just the account signers way and not be just the account signers signing for it but at the end of the day signing for it but at the end of the day my justification just comes back to my justification just comes back to pre-signed messages pre-signed messages all the time for this all the time for this which is that if we don't expose what which is that if we don't expose what the account signers are what does it the account signers are what does it mean to have a pre-signed message let me mean to have a pre-signed message let me give you an example imagine that you're give you an example imagine that you're writing an erc20 token writing an erc20 token which is all my examples nowadays which is all my examples nowadays because it's like super fundamental because it's like super fundamental token that we're all familiar with token that we're all familiar with um you have these uh these operations um you have these uh these operations you know you have you know you have balance of and allowance and approve and balance of and allowance and approve and transfer and transfer from and blah blah transfer and transfer from and blah blah blah blah blah blah blah blah blah blah blah blah and in this model everything still works and in this model everything still works based off of message.sender based off of message.sender so now what i do is i sign with my so now what i do is i sign with my account let's say that i have a two out account let's say that i have a two out of three multisig account like i was of three multisig account like i was talking about before with like you know

00:26:00.000 --> 00:26:59.999 align:start position:0%
talking about before with like you know i own three hardware wallets i sign with i own three hardware wallets i sign with two of them that's how i do stuff two of them that's how i do stuff the account only gets message.sender the account only gets message.sender which is my source account in this model which is my source account in this model okay but now i want to implement eip2612 okay but now i want to implement eip2612 permit permit how do i do that like how would you even default um how would i even define either 2612 um how would i even define either 2612 permit permit also i'm seeing people also i'm seeing people complaining about my mic volume complaining about my mic volume uh okay david then you should just adjust your uh your uh just my volume for you everyone sounds just my volume for you everyone sounds good it's just some people are much much good it's just some people are much much louder than others so i have to like louder than others so i have to like constantly adjust my volume which is constantly adjust my volume which is annoying but if you right click on me you can adjust my right click on me you can adjust my volume to you volume to you anyway

00:27:00.000 --> 00:27:59.999 align:start position:0%
anyway oh awesome thank you yeah i got you um oh awesome thank you yeah i got you um so how would you even do eip2612 permit so how would you even do eip2612 permit um um like the way that that works is it works like the way that that works is it works based off of signing a message based off of signing a message for the public key and that was for the public key and that was message.sender message.sender um okay so basic and like what um okay so basic and like what signatures do i use now signatures do i use now like do i use the account signatures like do i use the account signatures then it's not transparent then it's not transparent um i have to go and actually look up the um i have to go and actually look up the account find its signature find the account find its signature find the designers check them against that blah designers check them against that blah blah blah blah blah blah or do i just use the single signature for the public key which is the very for the public key which is the very much more computationally efficient much more computationally efficient thing to do thing to do but it would be wrong it wouldn't convey but it would be wrong it wouldn't convey the right access controls the right access controls can we uh maybe like i think there are can we uh maybe like i think there are like two problems that we are that we like two problems that we are that we are trying to deal with here there's one are trying to deal with here there's one uh around i think uh around i think and i think this one exists even in the

00:28:00.000 --> 00:28:59.999 align:start position:0%
and i think this one exists even in the current version of cap50 like regardless current version of cap50 like regardless that is that is when i give somebody my address right when i give somebody my address right like my public address like my public address um um how does it look like if i decide to how does it look like if i decide to upgrade my account you know when i say upgrade my account you know when i say upgrade to my account to a smart wallet upgrade to my account to a smart wallet like i really want to move all my like i really want to move all my balances and stuff right under my wallet balances and stuff right under my wallet so how would that look like i don't so how would that look like i don't think the current think the current proposal kind of allows you to deal with proposal kind of allows you to deal with this type of situation this type of situation um um and then for the and then for the for the signature scheme like um like for the signature scheme like um like why not so right now we have keyed why not so right now we have keyed signature now that it's actually inside signature now that it's actually inside i think what we can do is actually make i think what we can do is actually make add a new case add a new case that would be like classic scheme or that would be like classic scheme or something right that something right that that is just uh account id that is just uh account id and then threshold and then and then and then threshold and then and then and then the decorated signatures

00:29:00.000 --> 00:29:59.999 align:start position:0%
and then the decorated signatures and that's it and that's it and then you can actually use your and then you can actually use your like the invoker can be an uh a classic like the invoker can be an uh a classic account id account id which means you can actually which means you can actually use that as a use that as a you know when you you know when you as a recipient for as a recipient for anything really and then you have the anything really and then you have the threshold threshold like you do on classic like you do on classic great but then right back to the eip2612 great but then right back to the eip2612 permit like you still have to go and act permit like you still have to go and act like if i'm a contractor implementing like if i'm a contractor implementing the ip2612 permit the ip2612 permit i have to actually go and read the i have to actually go and read the account look at all the signers check account look at all the signers check the signal no no you do you wouldn't do the signal no no you do you wouldn't do that like that like you you because you never sign like to sign because you never sign like to sign something like when you sign a a payload something like when you sign a a payload what you the the statement that you have what you the the statement that you have is is here's a binary blob right that you want here's a binary blob right that you want to sign as a specific invoker right to sign as a specific invoker right um um and then here the signature is fresh and then here the signature is fresh like like basically you have to sign

00:30:00.000 --> 00:30:59.999 align:start position:0%
like like basically you have to sign a statement that says um those a statement that says um those signatures when you add them to signatures when you add them to uh uh when you um yeah like uh when you um yeah like uh evaluate them in the context of this evaluate them in the context of this account you reach this threshold you account you reach this threshold you cannot guarantee that i don't understand how the account could not go and like could avoid going and not go and like could avoid going and checking checking the contract could avoid going and the contract could avoid going and checking i just i don't see how that checking i just i don't see how that yeah yeah well it's the same uh like yeah yeah well it's the same uh like well that you mean verification wise is well that you mean verification wise is that what you're asking that's that code that what you're asking that's that code is uh yeah that would be like uh like we is uh yeah that would be like uh like we need a a function of source that is like need a a function of source that is like verify right that is verify right that is suppose the classic scheme i think suppose the classic scheme i think that's kind of all there is to it that's kind of all there is to it but that has quadratic complexity but that has quadratic complexity yeah yeah that's okay like that's okay like it's really not it's really not no like it's all about no like it's all about what is it what is it no no no like it's gas codes right like if no like it's gas codes right like if people want to do that they're not people want to do that they're not blocked from doing it

00:31:00.000 --> 00:31:59.999 align:start position:0%
blocked from doing it but it's like really really expensive but it's like really really expensive whereas like just checking a single whereas like just checking a single signature signature i'm not saying to remove the single i'm not saying to remove the single signature i'm saying that you you have a signature i'm saying that you you have a way out of the uh like way out of the uh like my public address is g whatever and i my public address is g whatever and i i don't i don't if somebody you know like sees my public if somebody you know like sees my public address and decides to send me funds address and decides to send me funds using smart using smart i want that to not go to the devnet and i want that to not go to the devnet and then you want the contract in uh you then you want the contract in uh you want the contract implementer to go and want the contract implementer to go and implement both verification methods implement both verification methods i mean what you think is we could also i mean what you think is we could also have like a have like a you know like a parameter type or you know like a parameter type or something like a signed blob something like a signed blob or an account authenticated blob that or an account authenticated blob that would that would be um you know it would would that would be um you know it would be uh checked uh be uh checked uh independent before executing the independent before executing the contract basically like maybe we don't contract basically like maybe we don't need to verify dynamic data like all the need to verify dynamic data like all the signatures can be checked statically signatures can be checked statically we're getting into the area of being we're getting into the area of being like super parental and telling people

00:32:00.000 --> 00:32:59.999 align:start position:0%
like super parental and telling people how to write their contracts when as a how to write their contracts when as a matter of fact you know they already matter of fact you know they already have especially things like the the type have especially things like the the type of bridging applications that need this of bridging applications that need this type of capability they already have type of capability they already have implementations on other networks we implementations on other networks we don't want to be to don't want to be to parental i parental i i think i think i'm on i'm on john's side with regards i'm on i'm on john's side with regards to to keeping uh simplicity keeping uh simplicity uh you know as a core value and and uh you know as a core value and and really like zooming in on these like really like zooming in on these like single signer single signer accounts accounts um um but i'm really concerned about the but i'm really concerned about the interoperability uh aspect um you know interoperability uh aspect um you know for the ecosystem and i do think that for the ecosystem and i do think that having migrating to some sort of like a having migrating to some sort of like a new account that is a single sign or new account that is a single sign or simple account simple account uh that you obviously you can only uh that you obviously you can only migrate to um you know if you if you migrate to um you know if you if you have a single sign or a current account have a single sign or a current account uh but having that uh but having that being um existing on both sides being um existing on both sides uh is something that the ecosystem can uh is something that the ecosystem can tolerate

00:33:00.000 --> 00:33:59.999 align:start position:0%
it's a little bit more complicated than that tumer it's not just that you can that tumer it's not just that you can only migrate if you have a single signer only migrate if you have a single signer it's that you can only migrate if the it's that you can only migrate if the only signer is the master key only signer is the master key and that means lots of accounts will be and that means lots of accounts will be locked out yeah so i so what i see is uh you know like your wallet can uh you know like your wallet can uh you know obviously there's like a migration thing obviously there's like a migration thing and your wallet can tell you hey and your wallet can tell you hey uh if you want to work on smart you need uh if you want to work on smart you need to migrate to this new account um to migrate to this new account um most accounts by the way are just you most accounts by the way are just you know like single signers and they do know like single signers and they do have a hundred percent uh of the of the have a hundred percent uh of the of the like master weights so i don't actually like master weights so i don't actually think that's a problem uh but you know think that's a problem uh but you know your wallet can tell you hey like this your wallet can tell you hey like this is uh is uh um you know this is like the new type of um you know this is like the new type of account if you still want to maintain account if you still want to maintain your multisig these are like other ways your multisig these are like other ways um you know you can do multi-sig in like um you know you can do multi-sig in like this brand new world but but the thing is that that migration

00:34:00.000 --> 00:34:59.999 align:start position:0%
but but the thing is that that migration happens once right i don't have to happens once right i don't have to actually as a user as a well while actually as a user as a well while developer need to i don't even think developer need to i don't even think about about this every time i move about about this every time i move between sites yeah i think it makes it pretty difficult for wallets either today or difficult for wallets either today or that are developing for standards like that are developing for standards like sub 30 for example to be able to to then sub 30 for example to be able to to then it will also interact with this world um it will also interact with this world um like we're still sending people down like we're still sending people down this track of like this track of like you need to have two sets of keys you need to have two sets of keys um um because the migration path is not because the migration path is not particularly clear i think particularly clear i think otherwise or we're saying like you have to migrate all the way to this only smart only jump all the way to this only smart only jump cannon cannon construct construct like how how like how would you have like how how like how would you have multisig on jump cannon and multisig off multisig on jump cannon and multisig off on classic at the same time with the on classic at the same time with the same account is that doable

00:35:00.000 --> 00:35:59.999 align:start position:0%
same account is that doable i'm i'm proposing i'm i'm proposing like not to actually ever like having like not to actually ever like having just a single migration and then you're just a single migration and then you're in this other world which is both in this other world which is both classic and jump canon but it's on a classic and jump canon but it's on a simplified account model now if you have simplified account model now if you have a multi-sig account on a multi-sig account on right now on stellar right now on stellar then then we can think about ways to either you know either do threshold signatures or just actually deploy a multisig or just actually deploy a multisig contract the same way that multisig contract the same way that multisig contracts are on contracts are on you know ethereum and other ecosystems what you're describing is every account that exists on the network today that that exists on the network today that uses multisig deploying their own uses multisig deploying their own contract on jump cannon that is one option again that's only if you want to interact to interact with you want to interact to interact with jump cannon right so if you're a vibrant jump cannon right so if you're a vibrant user and you don't you know you're not user and you don't you know you're not using any uh smart contract

00:36:00.000 --> 00:36:59.999 align:start position:0%
using any uh smart contract uh like these are not things that we uh like these are not things that we need to have figured out like the first need to have figured out like the first um you know like um you know like at launch uh and yeah it does not have to be like one contract per per wallet right it can one contract per per wallet right it can be be obviously the parity wallet is not a obviously the parity wallet is not a great example but the parity wallet was great example but the parity wallet was like a single contract uh that provided like a single contract uh that provided multi-sig for a lot of a lot of accounts multi-sig for a lot of a lot of accounts right right you hear that while it's super secure in you hear that while it's super secure in fact nobody's ever been able to get fact nobody's ever been able to get their money out of it their money out of it yes it is super secure i mean i still yes it is super secure i mean i still don't understand the whole like i call don't understand the whole like i call immigration thing how does that i mean immigration thing how does that i mean like if if you look at some of the like if if you look at some of the interesting accounts that are multisig interesting accounts that are multisig right issuers like are we saying that right issuers like are we saying that changing the issue are probably key no i'm not saying i'm not saying that at all i'm saying i'm not saying that at all i'm saying you only need to

00:37:00.000 --> 00:37:59.999 align:start position:0%
you only need to uh to uh to migrate to a new type of account if you migrate to a new type of account if you want to interact with um want to interact with um with jump cannon and cap 49 with jump cannon and cap 49 proposes that exactly but like to a much proposes that exactly but like to a much greater extent right you need to every greater extent right you need to every time you move time you move between between the like i'm i'm talking between between the like i'm i'm talking about the issuer about the issuer why would the issue where needs to need why would the issue where needs to need to migrate to migrate well well they don't want to have like any they don't want to have like any presence in jump cannon they will have to use a different account i guess um i think like there will need to be a distribution account distribution account uh potentially that if they want to uh potentially that if they want to interact with smart contracts they need interact with smart contracts they need to be on to be on on smart but i on smart but i you know i think that depends a lot on you know i think that depends a lot on the the asset interoperability story the the asset interoperability story uh which uh which you know we still need to think about

00:38:00.000 --> 00:38:59.999 align:start position:0%
can you just tell me what this migration looks like like i want to mic looks like like i want to mic you know i want to migrate from my you know i want to migrate from my classic account to a smart account classic account to a smart account what is what has to happen what is what has to happen i actually have to like somehow move i actually have to like somehow move balances or does it just like transmute balances or does it just like transmute balances balances and annihilate the classic key the very simple happy path for something very simple happy path for something like this is that like this is that you log into your wallet your wallet you log into your wallet your wallet tells you hey we have a lot of new tells you hey we have a lot of new functionality uh on smart contracts but functionality uh on smart contracts but for that to work you need to migrate to for that to work you need to migrate to a new account let's call it a d account a new account let's call it a d account um it takes you through the process and um it takes you through the process and once you end it once you end it you know effectively like merges your you know effectively like merges your account uh and and i'm saying happy path account uh and and i'm saying happy path meaning that it's there's just a single meaning that it's there's just a single signer and it's a and it's the master signer and it's a and it's the master signer signer and then you know now you have a d and then you know now you have a d account and you can either account and you can either operate on regular stellar classic

00:39:00.000 --> 00:39:59.999 align:start position:0%
operate on regular stellar classic you know make classic payments and such you know make classic payments and such or you can operate on smart contracts or you can operate on smart contracts but it's a simple account you cannot you but it's a simple account you cannot you can never actually do on-chain multi-sig can never actually do on-chain multi-sig uh the way that you did with your uh the way that you did with your previous account i don't know if we need to explore necessarily like yeah like in this necessarily like yeah like in this meeting like the meeting like the actual actual this actual migration flow this actual migration flow it sounds like it will have a lot of it sounds like it will have a lot of edge edge cases uh like i'm thinking like cases uh like i'm thinking like from a kyc point of view right like you from a kyc point of view right like you have a bunch of trust lines have a bunch of trust lines like you probably i mean like you probably i mean you need those d accounts to have the you need those d accounts to have the exact same exact same public key because that's what got kyc public key because that's what got kyc all you you deauthorize trust lines you all you you deauthorize trust lines you know that's another option know that's another option but you know things like that yeah again like happy path constitutes yeah again like happy path constitutes of accounts that are very simple they

00:40:00.000 --> 00:40:59.999 align:start position:0%
of accounts that are very simple they have a single uh have a single uh master signer uh and and assets that are master signer uh and and assets that are for the most part um you know the for the most part um you know the overwhelming majority are overwhelming majority are not asset not auth required or um and not asset not auth required or um and and can can easily be moved cool yeah just that that's all i was hoping for was a very quick explanation hoping for was a very quick explanation to like help clarify in my mind what it to like help clarify in my mind what it was that we were talking about um was that we were talking about um thanks i mean like i need to think about it more i need to think about it more i i i'm like i'm like i'd really what i really would need to i'd really what i really would need to do is go and like look at what the do is go and like look at what the current like configuration of accounts current like configuration of accounts network wide is you know there's like network wide is you know there's like 6.7 million accounts or something like

00:41:00.000 --> 00:41:59.999 align:start position:0%
6.7 million accounts or something like that that can most people actually just migrate to can most people actually just migrate to a new public key a new public key meaning that like their master weight meaning that like their master weight has weight one has weight one all the thresholds are equal to one all the thresholds are equal to one if that's the case if that's the case or i said migrate to a new publication or i said migrate to a new publication migrate to only their public key migrate to only their public key if that is what most accounts are like if that is what most accounts are like then like maybe this is reasonable then like maybe this is reasonable if most accounts aren't like that or if most accounts aren't like that or even if many accounts aren't like that even if many accounts aren't like that then i i don't think it actually gets us then i i don't think it actually gets us anything there's no worth there's no anything there's no worth there's no worth poking holes in it because it's worth poking holes in it because it's just like just like not general enough to be worth not general enough to be worth considering considering so i need to go and like you know hit up so i need to go and like you know hit up uh hubble and figure out what the uh hubble and figure out what the situation is situation is wait hold on quick wait hold on quick i think the alternative people i think the alternative people still can't use still can't use uh smart except now they could lose uh smart except now they could lose money if people accidentally send the money if people accidentally send the money on smart money on smart i'd rather have a world where most i'd rather have a world where most people can't use smart than one where people can't use smart than one where most people can't use smart but it looks most people can't use smart but it looks like they can and so money gets

00:42:00.000 --> 00:42:59.999 align:start position:0%
like they can and so money gets destroyed yeah i also just want to point out like we can research this with hubble but we can research this with hubble but what we should also evaluate is what we should also evaluate is there may be a lot of accounts on hubble there may be a lot of accounts on hubble that are not actually meaningful um and that are not actually meaningful um and whereas uh we should also have a look at whereas uh we should also have a look at products that are getting developed uh products that are getting developed uh either recently or in the future that we either recently or in the future that we know of that are getting developed on know of that are getting developed on stellar are they using multisig are they stellar are they using multisig are they using things like sep 30 um how are using things like sep 30 um how are those those products like what's the story going to products like what's the story going to be for products that are that are just be for products that are that are just setting out now with multisig setting out now with multisig um because um because if we do just have a look at just hubble if we do just have a look at just hubble we may find a large number of accounts we may find a large number of accounts that only use a master key they also may that only use a master key they also may be inactive accounts maybe accounts from be inactive accounts maybe accounts from the past accounts that are not actually the past accounts that are not actually relevant to relevant to um um where we're going from here where we're going from here yeah but lee like we're not saying we're yeah but lee like we're not saying we're not annihilating the idea of multi-sig not annihilating the idea of multi-sig right we're just saying uh

00:43:00.000 --> 00:43:59.999 align:start position:0%
right we're just saying uh that like that like these um you know we need to find like a these um you know we need to find like a different different multisig construction for these accounts multisig construction for these accounts moving to this new account type well it sounds like on some level at least though doing some on some level at least though doing some research is is a good idea to understand research is is a good idea to understand how people are using multisit currently how people are using multisit currently right right any other thoughts on this issue i mean any other thoughts on this issue i mean we have about 14 minutes left and we can we have about 14 minutes left and we can stay here or we can move on stay here or we can move on now i'd like now i'd like to go back to like the first thing to go back to like the first thing because maybe that's what that would be because maybe that's what that would be a different approach to this problem a different approach to this problem that is like the the question i that is like the the question i i was asking earlier that is how do we i was asking earlier that is how do we think about think about like uh i don't know how this is solving like uh i don't know how this is solving ethereum like if you if you have this

00:44:00.000 --> 00:44:59.999 align:start position:0%
ethereum like if you if you have this flexible flexible uh invoker thing like uh invoker thing like if i decide to if i decide to to take my account and move my assets to take my account and move my assets into a smart into a smart wallet wallet my smart wallet becomes my public um my smart wallet becomes my public um address in a way address in a way i think right i think right so so how does the money gets routed if how does the money gets routed if somebody sends money sends uh funds to somebody sends money sends uh funds to my my old key old key if you have the address if you have the address and sorry if you have the key and only and sorry if you have the key and only you have the key you just go grab it you have the key you just go grab it public key no no what i mean is that public key no no what i mean is that well it's kind of funny right like does well it's kind of funny right like does it mean i have to even though i decided it mean i have to even though i decided to upgrade my you know my setup to a to upgrade my you know my setup to a smart wallet smart wallet i still have to keep this kind of i still have to keep this kind of single key setup around forever upgrade single key setup around forever upgrade to a smart wallet you also have a smart to a smart wallet you also have a smart wallet wallet um um welcome welcome there's no way to stop using that

00:45:00.000 --> 00:45:59.999 align:start position:0%
there's no way to stop using that address other than to tell everybody to address other than to tell everybody to stop sending money there stop sending money there like like i mean it's no different from when you i mean it's no different from when you move houses right like people will keep move houses right like people will keep sending mail to your old address much to sending mail to your old address much to usps's uh display usps's uh display unless you tell them not to so you can unless you tell them not to so you can do forwarding right in that case so do forwarding right in that case so that's kind of what i'm getting through that's kind of what i'm getting through there's no way we're going to do that there's no way we're going to do that probably like no but like for like if we had to support those type of scenarios some to support those type of scenarios some way to do forwarding you could do way to do forwarding you could do forwarding for forwarding for those multisig accounts those multisig accounts why do forwarding though just keep the why do forwarding though just keep the key around until you don't want to key around until you don't want to forward anymore and go and collect the forward anymore and go and collect the money money like we don't need to be like we don't need to be you know we don't need to be dad for you know we don't need to be dad for these people if they know if they want these people if they know if they want to switch to a smart smart wallet they to switch to a smart smart wallet they should know what to do should know what to do no i'm just trying to kind of compare no i'm just trying to kind of compare the complexity of like uh migrating to the complexity of like uh migrating to those d you know whatever accounts to

00:46:00.000 --> 00:46:59.999 align:start position:0%
to having a way to having a way to um to kind of um to kind of make it easy for people to change their make it easy for people to change their keys basically and keys basically and even in smart if you make it easy for people to change your keys you're just gonna end up right your keys you're just gonna end up right back at the okay well now i have to go back at the okay well now i have to go and read this other thing and check the and read this other thing and check the signatures based off of that and signatures based off of that and everything becomes less efficient like everything becomes less efficient like do we care about performance or not do we care about performance or not if we don't care about performance let's if we don't care about performance let's just glue on the evm and get 13 tps i just glue on the evm and get 13 tps i don't understand why we're working so don't understand why we're working so hard if we care about performance we hard if we care about performance we can't do that and we have to do better can't do that and we have to do better but that means we should be making but that means we should be making decisions that matter decisions that matter i mean it's it's not just about i mean it's it's not just about performance right it's about like the performance right it's about like the whole reason we are talking about this whole reason we are talking about this is for usability right like making it is for usability right like making it that people don't have those food guns that people don't have those food guns you know everywhere but i mean i think that we we care not so much about performance in we care not so much about performance in absolute terms as the the scalability of absolute terms as the the scalability of performance in terms of cores so if we

00:47:00.000 --> 00:47:59.999 align:start position:0%
performance in terms of cores so if we can kind of split it up into work that can kind of split it up into work that can be parallelized and work that can't can be parallelized and work that can't be then as long as there's a way to do be then as long as there's a way to do the signature checking such that it can the signature checking such that it can be paralyzed i don't care if it's you be paralyzed i don't care if it's you know i'd rather have it be four times as know i'd rather have it be four times as expensive but embarrassingly parallel as expensive but embarrassingly parallel as like you know four times faster and like like you know four times faster and like it's competing for like the same cpu it's competing for like the same cpu core as like all the other logic and all core as like all the other logic and all the the transactions transactions sure but i'd also rather it just be sure but i'd also rather it just be embarrassingly parallel and not four embarrassingly parallel and not four times slower and like what i'm saying is times slower and like what i'm saying is like these the discussion we're having like these the discussion we're having right now doesn't change the right now doesn't change the parallelization well it probably makes parallelization well it probably makes it a little worse because there'll be it a little worse because there'll be more contention more contention um but it doesn't like it definitely um but it doesn't like it definitely doesn't make it better that's definitely doesn't make it better that's definitely like nico's proposal will not make it like nico's proposal will not make it better but it does mean there's more better but it does mean there's more work for everybody to do so it's work for everybody to do so it's definitely going to be slower definitely going to be slower should we just add bls signatures the should we just add bls signatures the other thing is like do we have a other thing is like do we have a particular it seems like particular it seems like not all implementations of threshold not all implementations of threshold schnorr schnorr like people like cut some corners like like people like cut some corners like do things that like

00:48:00.000 --> 00:48:59.999 align:start position:0%
do things that like we don't know how to attack but they we don't know how to attack but they don't don't they prevent the proofs from growing they prevent the proofs from growing through um so there's the fact that like there's the fact that like the multi-state we have now is it may be the multi-state we have now is it may be slow but it is slow but it is very simple and very easy to understand very simple and very easy to understand the security and if you want this level of security you can still use a smart a smart model you can still use a smart a smart model you just pay for it you just pay for it and if you trust the threshold schemes and if you trust the threshold schemes you use the threshold schemes and if you use the threshold schemes and if you're happy having a single key you use you're happy having a single key you use a single key um a single key um same thing i said before same thing i said before like i don't need to to tell people like i don't need to to tell people what to do in the land of smart what to do in the land of smart contracts because contracts because in a land of smart contracts if they in a land of smart contracts if they don't like the thing that i told them to don't like the thing that i told them to do you know what they're going to do do you know what they're going to do they're just going to do it slower they're just going to do it slower differently right anyway you can make it differently right anyway you can make it easy for them to do right so you can easy for them to do right so you can make it very easy for someone to use it make it very easy for someone to use it in a smart contract to check that in a smart contract to check that something's been authorized by a something's been authorized by a particular classic account right and if

00:49:00.000 --> 00:49:59.999 align:start position:0%
particular classic account right and if that is something that's easy to do then that is something that's easy to do then people will use it where it's people will use it where it's appropriate and there'll be more appropriate and there'll be more coherence across the two worlds do we want to talk a bit about contract lifecycle today we have we have like eight minutes uh but i mean there are some open questions but i mean there are some open questions that came up during the uh that came up during the uh in the dev mailing list that i can talk in the dev mailing list that i can talk about about uh if we think uh if we think we have enough time we have enough time i think i think i think we should start on it and if we i think we should start on it and if we run out of time we can bring it back up run out of time we can bring it back up at the next meeting at the next meeting okay

00:50:00.000 --> 00:50:59.999 align:start position:0%
okay uh so one of the questions uh we're uh so one of the questions uh we're still discussing discussing is if the uh still discussing discussing is if the uh contract contract uh uh code vector should be code vector should be like the size should be fixed in the xdr like the size should be fixed in the xdr it should be configurable by the it should be configurable by the validators validators and you know the advantage of having it and you know the advantage of having it configured by the validators is if for configured by the validators is if for some reason we think it's some reason we think it's you know uh if there's an issue the you know uh if there's an issue the validators can validators can uh if there's an overlay issue for uh if there's an overlay issue for example example and fix it through the values instead of and fix it through the values instead of uh you know updating the xdr which would uh you know updating the xdr which would require a i believe require a protocol require a i believe require a protocol upgrade upgrade um um does anyone have any thoughts on this i does anyone have any thoughts on this i think john is john's advocating for it think john is john's advocating for it to be fixed in the xcr and nico was to be fixed in the xcr and nico was advocating for it to be configurable advocating for it to be configurable well you need a parameter upgrade either well you need a parameter upgrade either way right or are you suggesting that way right or are you suggesting that different validators have different different validators have different thresholds thresholds uh no so yeah you yeah so you would need uh no so yeah you yeah so you would need uh uh you need to be a parameter upgrade you need to be a parameter upgrade and like an upgrade uh to the validators

00:51:00.000 --> 00:51:59.999 align:start position:0%
and like an upgrade uh to the validators or a protocol upgrade or a protocol upgrade right so either way it goes to a right so either way it goes to a consensus in one consensus in one you don't need to recompile you don't need to recompile that seems reasonable to not have to that seems reasonable to not have to recompile i guess recompile i guess or to pick maybe maybe we don't pick or to pick maybe maybe we don't pick like four gigabytes but we pick like four gigabytes but we pick something that's much larger something that's much larger than we think people should need in the than we think people should need in the xdr and then we enforce a lower limit xdr and then we enforce a lower limit in validators in validators that's what i was thinking uh yeah i i'm just like my big concern about this is like it's not safe to ever about this is like it's not safe to ever make the number lower you can only ever make the number lower you can only ever make it bigger make it bigger and i'm just like and i'm just like what is the point of this work what is the point of this work like why why shouldn't we just choose a like why why shouldn't we just choose a number number that makes sense that makes sense and and basically if we want people if people basically if we want people if people want to write bigger contracts just want to write bigger contracts just split your logic up among two contracts split your logic up among two contracts i mean it's not a big deal i mean it's not a big deal like like do we really want people uploading this do we really want people uploading this upload like a gigabyte 100 megabytes

00:52:00.000 --> 00:52:59.999 align:start position:0%
upload like a gigabyte 100 megabytes like what's what's the number that we're like what's what's the number that we're happy with people uploading in a single happy with people uploading in a single operation operation choose that number and call today choose that number and call today likewise what's the number that we're likewise what's the number that we're happy loading up into the vm as a single happy loading up into the vm as a single operation we'll call it a day great and i can see you're talking i can't hear you at all i don't know if can't hear you at all i don't know if anybody else can hey can you hear me now yes yes cool yeah i just wanted to point out um cool yeah i just wanted to point out um we have the same we have the same issue basically with uh like there's issue basically with uh like there's gonna be quite a lot of fixed numeric gonna be quite a lot of fixed numeric parameters in the system it's it's parameters in the system it's it's really not just one um although the cost really not just one um although the cost factor is all the memory limits all the factor is all the memory limits all the parallelization factor when we get to parallelization factor when we get to parallel parallel execution there's parallel parallel execution there's there's there's there's gonna be a big bucket of numbers there's gonna be a big bucket of numbers that are just constants that the system that are just constants that the system runs on um and runs on um and there's gonna be uh there's gonna be uh this is this is a cap coming at some this is this is a cap coming at some point we haven't got to it yet but point we haven't got to it yet but there's going to be a a parameters block

00:53:00.000 --> 00:53:59.999 align:start position:0%
there's going to be a a parameters block we're not we're not going to have a a we're not we're not going to have a a single parameter in the ledger header single parameter in the ledger header for every single one of these because for every single one of these because the ledger header will get gigantic the ledger header will get gigantic a new magic ledger entry called smart a new magic ledger entry called smart contract numeric parameters contract numeric parameters and people are going to have to vote on and people are going to have to vote on that on a regular basis so that on a regular basis so i i i would just say i i i would just say it is a number but we would have to agree it's a number that can only go up then that can only go up then never forget never forget no i don't agree or or it can go down no i don't agree or or it can go down with we have to with we have to have a policy that like we'll give you have a policy that like we'll give you two months notice before we reduce it or two months notice before we reduce it or something but no i i don't agree with something but no i i don't agree with that it cannot go down you can break that it cannot go down you can break somebody's smart contract by making it somebody's smart contract by making it go down even if you say like i'm still go down even if you say like i'm still willing to run a smart contract that's willing to run a smart contract that's that's longer than this was uploaded that's longer than this was uploaded before before what if that smart contract itself is a what if that smart contract itself is a factory which deploys new smart factory which deploys new smart contracts contracts no no no no there's there's no question no no no no there's there's no question that there's going to be perimeter that there's going to be perimeter changes that will break existing smart changes that will break existing smart contracts that is that's guaranteed

00:54:00.000 --> 00:54:59.999 align:start position:0%
contracts that is that's guaranteed because if we if we change gas limits at because if we if we change gas limits at all in any direction all in any direction uh uh some smart contracts will will begin some smart contracts will will begin passing that didn't or and and that passing that didn't or and and that implicitly means some will fail that implicitly means some will fail that didn't because they were expecting the didn't because they were expecting the other one to pass there there are ways other one to pass there there are ways in which you break people's code by in which you break people's code by changing parameters guaranteed there's changing parameters guaranteed there's there's no way to just make it one-sided there's no way to just make it one-sided that's not going to work that's not going to work i'm not clear on why changing the gas i'm not clear on why changing the gas factors would factors would break people's code like you could break people's code like you could always just run it with more gas right right but like it's something that you expect to work it's something that you expect to work on one set of parameters will work on one set of parameters will work differently on another set of parameters differently on another set of parameters sure that's fine as long as i can figure sure that's fine as long as i can figure out how to still run it it is fine but out how to still run it it is fine but like if you lower the size fact that you like if you lower the size fact that you can like fundamentally break never to be can like fundamentally break never to be recoverable a factory contract recoverable a factory contract it's totally recoverable you just have it's totally recoverable you just have to convince everyone to raise the number to convince everyone to raise the number again so right so it's only possible to go up as a consequence without breaking as a consequence without breaking people's okay no this

00:55:00.000 --> 00:55:59.999 align:start position:0%
people's okay no this no no i just know i completely disagree no no i just know i completely disagree with your premise um these numbers with your premise um these numbers affect affect whether whether i mean i mean seriously suppose your contract relies seriously suppose your contract relies on on on on you call two contracts in order and it's you call two contracts in order and it's really important that the first one really important that the first one fails for some reason because you you fails for some reason because you you didn't notice that it fails but it's didn't notice that it fails but it's part of the semantics of your system part of the semantics of your system working that the first call fails we working that the first call fails we increase the element now that now it increase the element now that now it succeeds succeeds your system stops working like people your system stops working like people can rely on things in the wrong order if can rely on things in the wrong order if there's no there's no and there's no fix for that if you want and there's no fix for that if you want the numbers to only ever go up right the numbers to only ever go up right like yeah you sometimes you have to like yeah you sometimes you have to redeploy things sometimes you have to redeploy things sometimes you have to change things back if you want to fix change things back if you want to fix them because there's no other there's no them because there's no other there's no other way you've set a specific set of other way you've set a specific set of parameters parameters that you've defined as the ones that my that you've defined as the ones that my thing works in and if the parameters thing works in and if the parameters change it is possible everything will change it is possible everything will work work i mean i think it's it's i mean i think it's it's when it comes to all those uh yeah like when it comes to all those uh yeah like weird parameters i think they're like weird parameters i think they're like especially when it comes to any kind of especially when it comes to any kind of limit limit i think they will will always have like

00:56:00.000 --> 00:56:59.999 align:start position:0%
i think they will will always have like you know when it comes to coming down you know when it comes to coming down right like from those uh limits like right like from those uh limits like if you're close to that limit if you're close to that limit yeah i would say like you may get broken yeah i would say like you may get broken like by some like by some some some weird tweaks like that uh like if you weird tweaks like that uh like if you want to be safe just play in a much want to be safe just play in a much smaller you know much further from the smaller you know much further from the limit limit well i think it's i think it's totally well i think it's i think it's totally reasonable to expect that that something reasonable to expect that that something like code size is not gonna like there's like code size is not gonna like there's no there's no pay-per-view reason why no there's no pay-per-view reason why we're going to start reducing that over we're going to start reducing that over time it's probably the case that would time it's probably the case that would stay the same and go up and i think it's stay the same and go up and i think it's a reasonable assumption but it's a reasonable assumption but it's it's no different than saying you know it's no different than saying you know that that your your your your set of pre-signed transactions set of pre-signed transactions that you know uh that you know uh can only have a certain uh uh can only have a certain uh uh fee that they work under and and they fee that they work under and and they won't work if the base fees increase or won't work if the base fees increase or something like that like there's something like that like there's there's ways we were actually concerned there's ways we were actually concerned about that problem grading yeah and we

00:57:00.000 --> 00:57:59.999 align:start position:0%
about that problem grading yeah and we were so concerned about it that nobody were so concerned about it that nobody wanted to raise the base fee and we wanted to raise the base fee and we actually did cap 15 fee bump actually did cap 15 fee bump transactions to fix that problem transactions to fix that problem so like that's actually like an example so like that's actually like an example that like proves the point that this is that like proves the point that this is a problem i'm it will continue to be a pro there's i it will continue to be a pro there's i just there's absolutely no way you can just there's absolutely no way you can fix this by saying it can only move in fix this by saying it can only move in one direction that doesn't fix the one direction that doesn't fix the problem so problem so as far as i can tell you're you're as far as i can tell you're you're demanding that we fix a problem that demanding that we fix a problem that can't be fixed can't be fixed i think we need to just set expectations i think we need to just set expectations appropriately right if we tell people appropriately right if we tell people your contract we promise never to break your contract we promise never to break your smart contracts it's going to be a your smart contracts it's going to be a problem right because we will end up problem right because we will end up breaking them and we'll also end up not breaking them and we'll also end up not innovating in ways that we should have innovating in ways that we should have innovated innovated um and so um and so you know you know like like people people validators may vote that they they're validators may vote that they they're not interested in seeing a particular not interested in seeing a particular parameter upgrade that's that's fair parameter upgrade that's that's fair right it's not it's not like us making right it's not it's not like us making parameter changes it's like

00:58:00.000 --> 00:58:59.999 align:start position:0%
parameter changes it's like us collectively the entire network right us collectively the entire network right it's not just sf making these changes it's not just sf making these changes but if a change happens and all the but if a change happens and all the validators vote for it the validators validators vote for it the validators could vote to to to migrate to a new could vote to to to migrate to a new protocol version that turns off smart protocol version that turns off smart contract contract you know there's there's there's changes you know there's there's there's changes that can be made among the validators that can be made among the validators that will break existing functionality i guess the core of my argument here is there are things that we should there are things that we should that are like worth promising not sorry that are like worth promising not sorry that are worth not promising to break that are worth not promising to break and there are things where we it's like and there are things where we it's like completely reasonable to make a promise completely reasonable to make a promise not to break your stuff not to break your stuff and i think code size is definitely an and i think code size is definitely an example where it is completely example where it is completely reasonable to promise not to break reasonable to promise not to break people's stuff you said it yourself you can't foresee a reason why we would want to make the reason why we would want to make the code size smaller uh not a really simple one but i mean if you give me a couple of minutes i could you give me a couple of minutes i could probably come up with something um i i probably come up with something um i i just don't think it's i don't i don't just don't think it's i don't i don't think it's lightly but you know there's think it's lightly but you know there's a difference between likely and what i

00:59:00.000 --> 00:59:59.999 align:start position:0%
a difference between likely and what i think we should be promising i don't see think we should be promising i don't see why that promise i guess i don't see why why that promise i guess i don't see why that promise is more important than any that promise is more important than any other problem there are so many other other problem there are so many other promises we could be making that are promises we could be making that are also not reasonable this is just another also not reasonable this is just another one that one that this really feels like we're bike this really feels like we're bike shedding at this point like let's get a shedding at this point like let's get a thing built and then like thing built and then like how hard or easy we make it to tweak one how hard or easy we make it to tweak one number like that's something we can number like that's something we can figure out it's just not an important figure out it's just not an important thing thing at this point at this point i think david gets the final word in i think david gets the final word in this meeting because we're out of time this meeting because we're out of time but um but um we'll reconvene next week and obviously we'll reconvene next week and obviously there's still activity happening here on there's still activity happening here on the um the um stellar dev uh discord and on the stellar dev uh discord and on the mailing list um and so anyone who's mailing list um and so anyone who's watching watching obviously feel free to jump in there or obviously feel free to jump in there or to see what what the discussion where to see what what the discussion where it's tending anyone in this meeting it's tending anyone in this meeting obviously will also obviously will also talk on those lists and get back talk on those lists and get back together here next week but we're out of together here next week but we're out of time for now

01:00:00.000 --> 01:00:59.999 align:start position:0%
you
